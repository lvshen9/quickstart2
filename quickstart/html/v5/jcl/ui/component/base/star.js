/*!
 * star component
 * http://www.wadecn.com/
 * auth:xiedx@asiainfo.com
 * Copyright 2015, WADE
 */
!function(e,a,n){"use strict";if(e&&"undefined"==typeof e.Star){var t=function(a,t){var s=this;s.el=a&&1==a.nodeType?a:n.getElementById(a),s.el&&s.el.nodeType&&(s.id=e.attr(s.el,"id"))&&(t&&e.isObject(t)&&e.extend(s,t),e.attr(s.el,"x-wade-uicomponent")||e.attr(s.el,"x-wade-uicomponent","star"),s._init(),s.constructor.call(s))};t.prototype=e.extend(new e.UIComponent,{val:function(a){var n=this;if(a==undefined)return n.value;if(/^[0-5]$/gi.test(a)&&a!=n.value){var t=n.span.className=n.span.className?n.span.className:"";t=e.trim((" "+t+" ").replace(/ e_star-\d+ /gi," ")),n.span.className=t+" e_star-"+a,n.value=a,n.el.value=a}},getReadonly:function(){return this.readonly},setReadonly:function(a){var n=this;n.readonly=!!a;var t=n.span.className?n.span.className:"";!n.readonly&&(" "+t+" ").indexOf(" e_star-edit ")<0&&(n.span.className=e.trim(t+" e_star-edit"))},getDisabled:function(){return this.disabled},setDisabled:function(a){var n=this;n.disabled=!!a;var t=n.span.className?n.span.className:"";n.disabled?(" "+t+" ").indexOf(" e_dis ")<0&&(n.span.className=e.trim(t+" e_dis")):(t=e.trim((" "+t+" ").replace(/ e_dis /gi," ")),n.span.className=t)},destroy:function(){var e=this;e.span=null,e.el=null},_init:function(){var a=this;a.span=e(a.el).parent("span.e_star:first")[0];var n=e.attr(a.span,"id");n||(n=a.id+"_span",e.attr(a.span,"id",n)),e.attr(a.el,"x-visible-element",n),a.readonly&&a.setReadonly(!0),a.disabled&&a.setDisabled(!0),e(a.span).tap(function(n){if(!a.disabled&&!a.readonly){var t=n.target;if(t&&1==t.nodeType&&e.nodeName(t,"span")){var s=e.attr(t,"val");s!=undefined&&(a.val(s),e.event.trigger({type:"change",originalEvent:n.originalEvent},null,a.el))}}})}}),a.Star=e.Star=t}}(window.Wade,window,document);