/*!
 * moneyfield component
 * http://www.wadecn.com/
 * auth:xiedx@asiainfo.com
 * Copyright 2015, WADE
 */
!function(e,i,t){"use strict";if(e&&"undefined"==typeof e.MoneyField){var n=(Array.prototype.push,Array.prototype.splice,t.createElement("input")),l="oninput"in n;n=null;var a=("undefined"!=typeof e.hasTouch&&e.hasTouch,function(i,n){var l=this;l.el=i&&1==i.nodeType?i:t.getElementById(i),l.el&&l.el.nodeType&&(l.id=e.attr(l.el,"id"))&&(n&&e.isObject(n)&&e.extend(l,n),e.attr(l.el,"x-wade-uicomponent")||e.attr(l.el,"x-wade-uicomponent","moneyfield"),l._init(),l.constructor.call(l))});a.prototype=e.extend(new e.UIComponent,{val:function(e){var i=this;if(e==undefined)return i.value;i.value=i.el.value=e},getDisabled:function(){return this.disabled},setDisabled:function(i){var t=this;t.disabled=!!i;var n=t.el.className?t.el.className:"";t.disabled?((" "+n+" ").indexOf(" e_dis ")<0&&(t.el.className=e.trim(n+" e_dis")),t.el.disabled=!0):(n=e.trim((" "+n+" ").replace(/ e_dis /gi," ")),t.el.className=n,t.el.disabled=!1)},destroy:function(){this.el=null},_init:function(){var i=this;"undefined"==typeof i.value&&(i.value="");var t=new RegExp("^\\d{1,12}(?:\\.\\d{1,"+(i.decimalDigit?i.decimalDigit:2)+"})?$");l?e(i.el).bind("input",function(e){var n;return this.value=(""+this.value).replace(/[^0-9\.]+/gi,""),""==this.value||(n=parseFloat(this.value),t.test(n))?(n!=undefined&&(i.value=n),!0):(this.value=i.value,!1)}):(e(i.el).bind("keydown",function(e){return!i.disabled&&(!(e.shiftKey||e.altKey||e.ctrlKey)&&(e.keyCode>47&&e.keyCode<58||e.keyCode>95&&e.keyCode<106||8==e.keyCode||190==e.keyCode))}),e(i.el).bind("keyup",function(e){if(i.disabled)return!1;var n;if(""!=this.value&&(n=parseFloat(this.value),!t.test(n)))return void(this.value=i.value);n!=undefined&&(i.value=n)})),e(i.el).bind("blur",function(e){if(i.disabled)return!1;var t;""!=this.value&&(t=parseFloat(this.value)),t!=undefined&&(i.value=i.el.value=t)})}}),i.MoneyField=e.MoneyField=a}}(window.Wade,window,document);