(function(){if(typeof($.Flip)=="undefined"){$.Flip=function(b,a){return new $.Flip.fn.construct(b,a);};$.Flip.fn={construct:function(b,a){this.id=b;$.extend(this,a);this.previousValue=this.getInitValue();},get:function(a){return window["Flip_"+a];},setValue:function(a){$("#"+this.id).val(a);this.justIfNumeric();
},setDisabled:function(a){if(a!=false){$("#"+this.id).attr("disabled",true);$("#flip_add_"+this.id).attr("disabled",true);$("#flip_add_"+this.id).addClass("e_dis");$("#flip_down_"+this.id).attr("disabled",true);$("#flip_down_"+this.id).addClass("e_dis");}else{$("#"+this.id).removeAttr("disabled");$("#flip_add_"+this.id).removeAttr("disabled");
$("#flip_add_"+this.id).removeClass("e_dis");$("#flip_down_"+this.id).removeAttr("disabled");$("#flip_down_"+this.id).removeClass("e_dis");}},verifyNumeric:function(c){var b=$.verifylib.checkNumeric(c);if(b){b=$.verifylib.checkNumbericRange(c,this.minData,this.maxData);}if(!b){alert($.lang["view.web.component.base.flip.dataError"]);
var a=$.verifylib.checkNumeric(this.previousValue);if(a){$("#"+this.id).val(this.previousValue);}else{$("#"+this.id).val(this.getInitValue());}return;}this.previousValue=c;},justIfNumeric:function(){var a=$("#"+this.id).val();this.verifyNumeric(a);},valueChanged:function(){var a=$("#"+this.id).val();
if(a==this.previousValue){return;}if(a){if(a.lastIndexOf(".")==a.length-1){a=a.substring(0,a.length-1);}this.verifyNumeric(a);}},keyUpAction:function(a){var b=$.verifylib.checkNumeric($("#"+this.id).val());if(!b){$("#"+this.id).val(this.previousValue);return;}if(a=="up"){this.increaseAction();}else{this.decreaseAction();
}},clickAction:function(a){var b=$.verifylib.checkNumeric($("#"+this.id).val());if(!b){$("#"+this.id).val(this.previousValue);return;}if(a=="up"){this.increaseAction();}else{this.decreaseAction();}},increaseAction:function(){var k=$("#"+this.id).val();if(!k||""==k){k=0;}var a=$.verifylib.checkNumeric(k);
if(!a){var n=$.verifylib.checkNumeric(this.previousValue);if(n){$("#"+this.id).val(this.previousValue);}else{$("#"+this.id).val(this.getInitValue());}return;}if(this.beforeAction&&$.isFunction(this.beforeAction)){this.beforeAction.call($("#"+this.id),"up");}var e=k.indexOf(".");var m=(this.degree+"").indexOf(".");
var c=k.length;var l=(this.degree+"").length;var f=e>-1||m>-1;if(f){k=(parseFloat(k,10)+parseFloat(this.degree,10));}else{k=(parseInt(k,10)+parseInt(this.degree,10));}var b=$.verifylib.checkNumbericRange(k,this.minData,this.maxData);if(!b){k=this.maxData;}if(f){if(e==-1){e=c;}if(m==-1){m=l;}var h=c-e;
var d=l-m;if(d<h){d=h;}var g="0.";d=d-1;for(var j=0;j<d;j++){g+="0";}k=$.format.number(k,g);}this.previousValue=k;$("#"+this.id).val(k);if(this.afterAction&&$.isFunction(this.afterAction)){this.afterAction.call($("#"+this.id),"up");}},decreaseAction:function(){var l=$("#"+this.id).val();if(!l||""==l){l=0;
}var a=$.verifylib.checkNumeric(l);if(!a){var o=$.verifylib.checkNumeric(this.previousValue);if(o){$("#"+this.id).val(this.previousValue);}else{$("#"+this.id).val(this.getInitValue());}return;}if(this.beforeAction&&$.isFunction(this.beforeAction)){this.beforeAction.call($("#"+this.id),"down");}var f=$.verifylib.checkNumbericRange(l,this.minData,this.maxData);
var g=l.indexOf(".");var n=(this.degree+"").indexOf(".");var c=l.length;var m=(this.degree+"").length;var e=g>-1||n>-1;if(e){l=(parseFloat(l,10)-parseFloat(this.degree,10));}else{l=(parseInt(l,10)-parseInt(this.degree,10));}var b=$.verifylib.checkNumbericRange(l,this.minData,this.maxData);if(!b){l=this.minData;
}if(e){if(g==-1){g=c;}if(n==-1){n=m;}var j=c-g;var d=m-n;if(d<j){d=j;}var h="0.";d=d-1;for(var k=0;k<d;k++){h+="0";}l=$.format.number(l,h);}this.previousValue=l;$("#"+this.id).val(l);if(this.afterAction&&$.isFunction(this.afterAction)){this.afterAction.call($("#"+this.id),"down");}},getInitValue:function(){var a=this.initValue;
var b=$.verifylib.checkNumeric(this.initValue);if(b){b=$.verifylib.checkNumbericRange(this.initValue,this.minData,this.maxData);if(!b){a="";}}else{a="";}return a;},initValue:0,minData:undefined,maxData:undefined,degree:1,isDisabled:false,isReadOnly:false,beforeAction:undefined,afterAction:undefined,previousValue:""};
$.Flip.fn.construct.prototype=$.Flip.fn;$.Flip.get=$.Flip.fn.get;}})();