(function(a){a.extend({ctx:a("#ctx"),isSameDomain:function(d){var b=false;try{if(d&&d.document){b=(d.document.domain==document.domain);}}catch(c){}return b;},isSamePage:function(d){var b;try{if(d&&d.document&&d.Wade&&window.Wade){b=false;b=(d.Wade.expando==window.Wade.expando);}}catch(c){}return b;},beginLoading:function(d){if(undefined==d){d=a.lang.get("view.web.jcl.tapestry.page.loading");
}var c=a("#wade_s_ld_div");if(!c.length){if(document.body){a.insertHtml("beforeend",document.body,'<div id="wade_s_ld_div" class="c_popup c_popup-notitle">'+'<div class="c_popupWrapper">'+'<div class="c_popupHeight"></div>'+'<div class="c_popupBox" style="width:280px;">'+'<div class="c_popupTitle"><div class="text"></div></div>'+'<div class="c_popupContent"><div class="c_popupContentWrapper">'+'<div class="c_article e_center">'+'<i class="e_ico-loading"></i><span id="wade_s_ld_txt">'+d+"</span>"+"</div>"+"</div></div>"+'<div class="c_popupBottom"><div></div></div>'+'<div class="c_popupShadow"></div>'+"</div>"+"</div>"+'<iframe class="c_popupFrame"></iframe>'+'<div class="c_popupCover"></div>'+"</div>");
}c=a("#wade_s_ld_div");}if(c.length){c.css("display","");var b=a("#wade_s_ld_txt");if(b){b.html(d);}b=null;}c=null;},endLoading:function(){a("#wade_s_ld_div").css("display","none");},beginPageLoading:function(d){if(undefined==d){d=a.lang.get("view.web.jcl.tapestry.page.loading");}var c=a("#wade_ld_div");
if(!c.length){if(document.body){a.insertHtml("beforeend",document.body,'<div id="wade_ld_div" class="c_popup c_popup-notitle" style="z-index:1000;">'+'<div class="c_popupWrapper">'+'<div class="c_popupHeight"></div>'+'<div class="c_popupBox" style="width:280px;">'+'<div class="c_popupTitle"><div class="text"></div></div>'+'<div class="c_popupContent"><div class="c_popupContentWrapper">'+'<div class="c_article e_center">'+'<div id="wade_ld_txt">'+d+"</div>"+'<span class="e_loadingBar l_mt"></span>'+"</div>"+"</div></div>"+'<div class="c_popupBottom"><div></div></div>'+'<div class="c_popupShadow"></div>'+"</div>"+"</div>"+'<iframe class="c_popupFrame"></iframe>'+'<div class="c_popupCover"></div>'+"</div>");
}c=a("#wade_ld_div");}if(c.length){c.css("display","");var b=a("#wade_ld_txt");if(b){b.html(d);}b=null;}c=null;},endPageLoading:function(){a("#wade_ld_div").css("display","none");},removePageLoading:function(){var b=a("#wade_ld_div");b.css("display","none");b.empty();b.remove();b=null;}});a.each("beginLoading,endLoading,beginPageLoading,endPageLoading,removePageLoading".split(","),function(b,c){window[c]=a[c];
});})(Wade);/*!
 * page redirect api for webframe 
 * http://www.wadecn.com/
 * auth:xiedx@asiainfo-linkage.com
 * Copyright 2011, WADE
 */
Wade.redirect=(function(b){var a=b.ctx.attr("urlparams");var c;return{getPathName:function(){if(c==undefined){if(window.getPathName&&b.isFunction(window.getPathName)){c=window.getPathName();
return c;}var d=window.location.protocol;if("http:"==d||"https:"==d){c=window.location.pathname;if(c&&c.indexOf("/")>0){c="/"+c;}}else{c="";}}return c;},getPageName:function(){var d=b.ctx.attr("page");if(!d){var g=window.location.pathname;var f=g.indexOf(".html");if(f>0){pathName=g.substring(0,f);var e=pathName.split("/");
d=e[e.length-1];}}return d;},parseUrl:function(e){if(!e||!b.isString(e)){return;}if(a&&a!=""){var g=b.params.load(e);var n=a.split(",");var k,f,m,l;for(var h=0;h<n.length;h++){if(n[h]&&n[h].length){k=n[h].indexOf(":");if(k==-1){f=m=n[h];}else{f=n[h].substring(k+1);m=n[h].substring(0,k);}if(g.get(m)&&g.get(m)!=""){continue;
}var j=g.get("service");if(j&&j=="ajax"){if(f=="page"){l=g.get("page");}else{l=g.get(f);if(l==null||l==""){l=b.ctx.attr(f);}}}else{if(f=="page"){l=j?j.substring(j.indexOf("/")+1):"";}else{l=g.get(f);if(l==null||l==""){l=b.ctx.attr(f);}}}j=null;if(l!=null&&l!=""){e+=((e.indexOf("?")!=-1)?"&":"?")+m+"="+l;
continue;}else{if(g.get(f)==null||g.get(f)==""){e+=((e.indexOf("?")!=-1)?"&":"?")+f+"="+l;}}}}g=null;}var d=b.params.get("WADE_SID");if(d){e+=((e.indexOf("?")!=-1)?"&":"?")+"WADE_SID="+d;}return e;},buildUrl:function(g,j,h,k){for(var f=0;f<arguments.length;f++){if(null==arguments[f]||undefined==arguments[f]){arguments[f]="";
}}if(arguments.length==3){k=h;h=j;j=g;g=null;}else{if(arguments.length==2){h=j;j=g;g=null;}else{if(arguments.length==1){j=g;g=null;}}}var e="";if(g){e+=g;}else{e=b.redirect.getPathName()+e;}if(j){e+="?service=page/"+j;}if(h){e+="&listener="+h;}if(k&&typeof(k)=="string"){var d=k.charAt(0);if(d=="?"){k="&"+k.substring(1);
}else{if(d!="&"){k="&"+k;}}e+=k;}e=this.parseUrl(e);return e;},buildSysUrl:function(e,d){if(arguments.length==1){d=e;e=null;}if(!d){return;}d=b.trim(d);var f="";if(d.indexOf("http")!=0){if(d.indexOf("?")<0){if(e){f+=e;}else{f=b.redirect.getPathName()+f;}f+="?";}}f+=d;f=this.parseUrl(f);return f;},to:function(d){if(!d){return;
}d=this.parseUrl(d);window.document.location.href=d;},toUrl:function(d){if(!d){return;}d=b.redirect.parseUrl(d);window.document.location.href=d;},toSysUrl:function(e,d){d=this.buildSysUrl.apply(this,arguments);window.document.location.href=d;},toPage:function(e,g,f,h){var d=this.buildUrl.apply(this,arguments);
window.document.location.href=d;}};window.redirectTo=b.redirect.toPage;b.redirectTo=b.redirect.toPage;})(Wade);/*!
 * ajax request library for webframe
 * http://www.wadecn.com/
 * auth:xiedx@asiainfo-linkage.com
 * Copyright 2011, WADE
 */
(function(){if(Wade.ajax==undefined&&Wade.httphandler==undefined){var j,d="handler";if(!(j=$.ctx.attr("ajax"))){j="ajax";}function h(s){var n=[];if(s&&$.isPlainObject(s)){for(var q in s){var p=s[q],m=encodeURIComponent(q);
var r=typeof(p);if(r=="undefined"||null==p||""==p){n.push('"'+m+'":""');}else{if(r!="function"&&r!="object"){n.push('"'+m+'":"'+encodeURIComponent(p)+'"');}else{if($.isArray(p)){if(p.length){for(var o=0,l=p.length;o<l;o++){n.push('"'+m+'":"'+encodeURIComponent(p[o]===undefined?"":p[o])+'"');}}else{n.push('"'+m+'":""');
}}}}}}return"{"+n.join(",")+"}";}function e(r,p){if(!r||!$.isString(r)){return;}var o={};var n=$("#"+r+" input[name],#"+r+" select[name],#"+r+" textarea[name]");if(n.length){var l,k,q,m,s=false;n.each(function(){l=this;k=$.attr(l,"name");s=false;if(!k){return;}if(p&&$.isString(p)){if(k.indexOf(p)!=0){return;
}}if($.nodeName(l,"input")){q=$.attr(l,"type");s=true;if(q&&(("radio"==q||"checkbox"==q)&&!l.checked)){s=false;}}else{s=true;}if($.nodeName(l,"select")&&!$("option:first",l).length){s=false;}if(s){m=$(l).val();if($.nodeName(l,"textarea")&&window.CKEDITOR&&"true"==$.attr(l,"__ckeditor")){m=CKEDITOR.instances[$.attr(l,"id")].getData();
}if(undefined==m||null==m){m="";}if($.isArray(m)){if(typeof(o[k])!="undefined"){if($.isArray(o[k])){o[k]=o[k].concat(m);}else{o[k]=[o[k]];o[k]=o[k].concat(m);}}else{o[k]=m;}}else{m=$.trim(m);if(typeof(o[k])!="undefined"){if($.isArray(o[k])){o[k].push(m);}else{o[k]=[o[k]];o[k].push(m);}}else{o[k]=m;}}}});
}return o;}function a(y,u,s){if(!y||!$.isString(y)){return;}var q=$("#"+y).attr("uiid");var n=q&&$.isString(q);var r=e(y,s);if(n){var w=$.ctx.attr("oldAjaxJsonData");if(w=="false"){return q+"="+h(r);}else{return q+"=["+h(r)+","+h($("#"+y).data("oldAjaxJsonData"))+"]";}}else{var l=[];for(var x in r){var m=r[x],o=(false==u?x:encodeURIComponent(x));
var v=typeof(m);if(v=="undefined"||null==m||""==m){l.push(o,"=&");}else{if(v!="function"&&v!="object"){l.push(o,"=",(false==u?m:encodeURIComponent(m)),"&");}else{if($.isArray(m)){if(m.length){for(var p=0,t=m.length;p<t;p++){l.push(o,"=",(false==u?(m[p]===undefined?"":m[p]):encodeURIComponent(m[p]===undefined?"":m[p])),"&");
}}else{l.push(o,"=&");}}}}}l.pop();return l.join("");}}function f(n,m){var l="";if(n&&$.isString(n)){var k=[];$.each(n.split(","),function(o,q){k.push(a(q));var p=$("#"+q);if(p&&p.length&&p.attr("exparams")&&p.attr("exparams")!=""){l+=p.attr("exparams");}p=null;});l+="&"+k.join("&");}if(m&&(m instanceof $.DataMap)&&m.length){m=m.map;
}if($.isObject(m)){m=$.param(m);}if(m){l+="&"+m;}if(l&&l.indexOf("&")==0){l=l.substring(1);}return l;}function b(l){var k=$.extend(true,{},l);$.ajaxRequest(k);}function c(p,m,v,w){if(w.simple){if(w.callback&&$.isFunction(w.callback)){w.callback(p,m,v);}return;}var q,u,x,k;var l;if(p&&$.isString(p)){var t=p.indexOf("\n");
if(t>-1){l=p.substring(t,p.length);p=p.substring(0,t);}p=$.parseJSON(p);u=p.context.x_resultcode;x=p.context.x_resultinfo;k=p.context.x_errorinfo;p=p["data"];}if(w.partids&&l){$.each(w.partids.split(","),function(F,C){var s=C.substring(C.lastIndexOf(".")+1);var G="<__part_"+s+">";var A="</__part_"+s+">";
var y=l.indexOf(G);var z=l.indexOf(A);if(y<0||z<0){return;}var B=l.substring(y+G.length,z);var D=$("#"+s);if(D.length){D.empty();D.html(B);if(D.attr("uiid")){var E=$.ctx.attr("oldAjaxJsonData");if(E!="false"){D.data("oldAjaxJsonData",e(D.attr("id")));}}}});}if(p&&($.isArray(p)||$.isObject(p))){if($.isArray(p)){var r=true;
if(!p.length){r=false;}else{var o=p.length;if(!o||!/^\d+$/.test(o)||!(parseInt(o)>0)){r=false;}}if(r){q=new $.DatasetList(p);}else{q=new $.DatasetList();}}else{q=new $.DataMap(p);}}if(!/^(-)?[@#\s\.:;$\{\}\[\]a-zA-Z0-9_-]+$/.test(u)){if(w.errorback&&$.isFunction(w.errorback)){w.errorback(-1,"Incorrect format:X_RESULTCODE","Incorrect format:X_RESULTCODE");
}else{alert("Incorrect format:X_RESULTCODE");}return;}if("0"!=u){if(!x){x="";}var n="";if(x.indexOf("Caused")!=-1){if(x.indexOf(":")!=-1){n=x.substring(x.lastIndexOf(":")+1);}else{n=x.substring(x.lastIndexOf("Caused")+6);}}else{n=x;}if(w.errorback&&$.isFunction(w.errorback)){w.errorback(u,x,k);}else{alert(n);
}return;}if(q){if(w.callback&&$.isFunction(w.callback)){w.callback(q,m,v);}}}function g(p,k,l,m){var n=p?p.status:k;var o=l?l.getMessage():"HttpStatus:"+n+"\nXMLHttp Request Error";if(m.errorback&&$.isFunction(m.errorback)){m.errorback(n,o,o);}else{alert(o);}}Wade.ajax={buildUrl:function(m,o,n,p){for(var l=0;
l<arguments.length;l++){if(null==arguments[l]||undefined==arguments[l]){arguments[l]="";}}if(arguments.length==3){p=n;n=o;o=m;m=null;}else{if(arguments.length==2){n=o;o=m;m=null;}else{if(arguments.length==1){o=m;m=null;}}}if(!o){o=$.redirect.getPageName();}var k="";if(m){k+=m;}else{k=$.redirect.getPathName()+k;
}k+="?service="+j;if(o){k+="&page="+o;}if(n){k+="&listener="+n;}k=$.redirect.parseUrl(k);if(p&&typeof(p)=="string"){k+=("&"==p.indexOf(0)?"":"&")+p;}return k;},buildJsonData:function(l,k){return e(l,k);},buildPostData:function(m,k,l){return a(m,k,l);},ajaxSettings:{simple:false,type:"GET",async:true,cache:false,dataType:"text",loading:true,timeout:3*60*1000},setup:function(k){if(k&&$.isPlainObject(k)){$.extend(this.ajaxSettings,k);
}},request:function(r,k,m,n,v,t,l){if(m&&$.isFunction(m)){t=v;v=m;m=null;}if(m&&(m instanceof $.DataMap)&&m.length){m=m.map;}var p=this.buildUrl(r,k);if(n&&$.isString(n)){var o=n.split(",");$.each(o,function(s,y){if(y&&y.indexOf(".")<0){var z=$("#"+y).attr("_comp_path");if(z){o[s]=z;}}});n=o.join(",");
p+="&partids="+n;}if(!m&&!$.isString(m)){m="";}var q=$.ctx.attr("ws_randomCode");if(q){m+="&ws_randomCode="+q;}var x=$.extend({url:p,data:m,type:"GET",partids:n,success:w,error:u,callback:v,errorback:t},$.ajax.ajaxSettings,l);if("text"!=x.dataType){x.simple=true;}b(x);function w(y,s,z){c(y,s,z,x);}function u(z,s,y){g(z,s,y,x);
}},getString:function(n,m,o,p,k,l){$.ajax.request(n,m,o,null,p,k,$.extend({simple:true},l));},getJson:function(n,m,o,p,k,l){$.ajax.request(n,m,o,null,p,k,$.extend({dataType:"json",simple:true},l));},getJsonp:function(m,l,n,o,k){$.ajax.request(m,l,n,null,o,k,{dataType:"jsonp",simple:true});},getScript:function(n,m,o,p,k,l){$.ajax.request(n,m,o,null,p,k,$.extend({dataType:"script",simple:true},l));
},get:function(o,n,p,k,q,l,m){$.ajax.request(o,n,p,k,q,l,m);},post:function(o,n,p,k,q,l,m){$.ajax.request(o,n,p,k,q,l,$.extend({type:"POST",encoding:"UTF-8"},m));},submit:function(p,n,o,k,q,l,m){$.ajax.post(null,n,f(p,o),k,q,l,m);},check:function(q,o,p,l,m){var n="0",k="ok";l=(l==null||l=="")?"rscode":l;
m=(m==null||m=="")?"rsinfo":m;$.beginPageLoading();$.ajax.submit(q,o,p,null,function(r){if(r instanceof $.DatasetList){n=r.get(0).get(l);k=r.get(0).get(m);}else{if(r instanceof $.DataMap){n=r.get(l);k=r.get(m);}}$.endPageLoading();},function(s,r){$.endPageLoading();},{async:false});return{rscode:function(){return n;
},rsinfo:function(){return k;}};}};Wade.httphandler={buildUrl:function(n,l,r,q){for(var m=0;m<arguments.length;m++){if(null==arguments[m]||undefined==arguments[m]){arguments[m]="";}}if(arguments.length==3){q=r;r=l;l=n;n=null;}else{if(arguments.length==2){r=l;l=n;n=null;}else{if(arguments.length==1){r=n;
n=null;}}}var k="";if(n){k+=n;}else{var p=$.redirect.getPathName();k=p.substring(0,p.lastIndexOf("/")+1)+d+k;}k+="?clazz="+l;if(r){k+="&method="+r;}var o=$.redirect.getPageName();if(o){k+="&page="+o;}k=$.redirect.parseUrl(k);if(q&&typeof(q)=="string"){k+=("&"==q.indexOf(0)?"":"&")+q;}return k;},buildJsonData:function(l,k){return e(l,k);
},buildPostData:function(m,k,l){return a(m,k,l);},httphandlerSettings:{simple:false,type:"GET",async:true,cache:false,dataType:"text",loading:true,timeout:3*60*1000},setup:function(k){if(k&&$.isPlainObject(k)){$.extend(this.httphandlerSettings,k);}},request:function(o,k,m,r,p,l){if(m&&$.isFunction(m)){p=r;
r=m;m=null;}if(m&&(m instanceof $.DataMap)&&m.length){m=m.map;}var n=this.buildUrl(o,k);var u=$.extend({url:n,data:m,type:"GET",success:t,error:q,callback:r,errorback:p},$.httphandler.httphandlerSettings,l);if("text"!=u.dataType){u.simple=true;}b(u);function t(v,s,w){c(v,s,w,u);}function q(w,s,v){g(w,s,v,u);
}},getJson:function(l,p,n,o,k,m){$.httphandler.request(l,p,n,o,k,$.extend({dataType:"json",simple:true},m));},getJsonp:function(l,o,m,n,k){$.httphandler.request(l,o,m,n,k,{dataType:"jsonp",simple:true});},getScript:function(l,p,n,o,k,m){$.httphandler.request(l,p,n,o,k,$.extend({dataType:"script",simple:true},m));
},get:function(l,p,n,o,k,m){$.httphandler.request(l,p,n,o,k,m);},post:function(l,p,n,o,k,m){$.httphandler.request(l,p,n,o,k,$.extend({type:"POST",encoding:"UTF-8"},m));},submit:function(o,l,q,n,p,k,m){$.httphandler.post(l,q,f(o,n),p,k,m);}};var i=$.ctx.attr("oldAjaxJsonData");if(i!="false"){$(document).ready(function(){$("*[uiid]").each(function(){var k=$.attr(this,"id");
if(k){$.data(this,"oldAjaxJsonData",e(k));}});});}$(document).ready(function(){var k=$.ctx.attr("ws_randomCode");if(k){$("form").each(function(){$.insertHtml("afterbegin",this,"<input type='hidden' name='ws_randomCode' value='"+k+"' />");});}});window.ajaxGet=Wade.ajax.get;window.ajaxPost=Wade.ajax.post;
window.ajaxSubmit=Wade.ajax.submit;window.ajaxCheck=Wade.ajax.check;window.hhGet=Wade.httphandler.get;window.hhPost=Wade.httphandler.post;window.hhSubmit=Wade.httphandler.submit;}})();/*!
 * url params analyzer
 * http://www.wadecn.com/
 * auth:xiedx@asiainfo-linkage.com
 * Copyright 2011, WADE
 */
(function(){if(typeof($.params)!="undefined"){return;}function d(){this.map={};}d.prototype={put:function(e,f){this.map[e]=f;},get:function(e){return this.map[e];},remove:function(e){delete this.map[e];
},toString:function(){var e=[];for(var f in this.map){e.push(f+"="+this.map[f]);}return e.join("&");}};function c(g,f){var e=$.extend({space:true,number:true},f);var h=new d();if(g&&$.isString(g)){g=g.substring(g.indexOf("?")+1);g=g.replace(/^[?#]/,"");g=g.replace(/[;&]$/,"");if(e.space){g=g.replace(/[+]/g," ");
}$.each(g.split(/[&;]/),function(){var i=decodeURIComponent(this.split("=")[0]||"");var j=decodeURIComponent(this.split("=")[1]||"");if(!i){return;}if(e.number){if(/^[+-]?[0-9]+\.[0-9]*$/.test(j)&&j.indexOf(0)!="0"){j=parseFloat(j);}else{if(/^[+-]?[0-9]+$/.test(j)&&j.indexOf(0)!="0"){j=parseInt(j,10);
}}}j=(!j&&j!==0)?"":j;h.put(i,j);});}return h;}var a;function b(){if(!a){var e=window.location.search;var f=window.location.hash;a=c(e);if(f){a.put("_hash",f);}}return a;}$.params={load:function(f,e){return c(f,e);},get:function(e){b();return a.get(e);},toString:function(){b();return a.toString();}};
})();/*!
 * nav control api
 * http://www.wadecn.com/
 * auth:xiedx@asiainfo-linkage.com
 * Copyright 2011, WADE
 */
Wade.nav={adapter:undefined,topIsSameDomain:undefined,topIsSamePage:undefined,checkTopWindow:function(){if(undefined==Wade.nav.topIsSameDomain){Wade.nav.topIsSameDomain=$.isSameDomain(top);
}if(undefined==Wade.nav.topIsSamePage){Wade.nav.topIsSamePage=$.isSamePage(top);}},events:{"active":"onActive","unactive":"onUnActive","close":"onClose"},methods:{"init":$.lang.get("view.web.jcl.tapestry.nav.init")+"void init(window win,document doc)","open":$.lang.get("view.web.jcl.tapestry.nav.open")+"void open(string title,string page,string listener,string params,string subsys,object data)","openLock":$.lang.get("view.web.jcl.tapestry.nav.openLock")+"void openLock(string title,string page,string listener,string params,string subsys,object data)","openByUrl":$.lang.get("view.web.jcl.tapestry.nav.openByUrl")+"void openByUrl(string title,string url,string subsys,object data)","redirect":$.lang.get("view.web.jcl.tapestry.nav.redirect")+"void redirect(string title,string page,string listener,string params,string subsys,object data)","redirectByUrl":$.lang.get("view.web.jcl.tapestry.nav.redirectByUrl")+"void redirectByUrl(string title,string url,string subsys,object data)","reload":$.lang.get("view.web.jcl.tapestry.nav.reload")+"void reload(string url)","getData":$.lang.get("view.web.jcl.tapestry.nav.getData")+"object getData()","getDataByTitle":$.lang.get("view.web.jcl.tapestry.nav.getDataByTitle")+"object getDataByTitle()","getTitle":$.lang.get("view.web.jcl.tapestry.nav.getTitle")+"string getTitle()","getContentWindow":$.lang.get("view.web.jcl.tapestry.nav.getContentWindow")+"[frame]contentWindow getContentWindow()","getContentWindowByTitle":$.lang.get("view.web.jcl.tapestry.nav.getContentWindowByTitle")+"[frame]contentWindow getContentWindowByTitle(string title)","switchByTitle":$.lang.get("view.web.jcl.tapestry.nav.switchByTitle")+"void switchByTitle(string title)","close":$.lang.get("view.web.jcl.tapestry.nav.close")+"void close()","closeByTitle":$.lang.get("view.web.jcl.tapestry.nav.closeByTitle")+"void closeByTitle()"},init:function(b,a){Wade.nav.checkTopWindow();
if(Wade.nav.topIsSameDomain&&!Wade.nav.topIsSamePage&&top.Wade&&top.Wade.nav.adapter){top.Wade.nav.adapter.init(b,a);}else{if(Wade.nav&&Wade.nav.adapter){Wade.nav.adapter.init(b,a);}}},open:function(f,d,c,e,a,b){if(!f||!$.isString(f)){$.error("title"+$.lang.get("view.web.jcl.tapestry.nav.notnull"));}if(!d||!$.isString(d)){$.error("page"+$.lang.get("view.web.jcl.tapestry.nav.notnull"));
}Wade.nav.checkTopWindow();if(Wade.nav.topIsSameDomain&&!Wade.nav.topIsSamePage&&top.Wade&&top.Wade.nav.adapter){if(!a){a=$.redirect.getPathName();}top.Wade.nav.adapter.open.apply(window,[f,d,c,e,a,b]);return;}else{if(Wade.nav.adapter){Wade.nav.adapter.open.apply(window,[f,d,c,e,a,b]);return;}}$.redirect.toPage(a,d,c,e);
},openLock:function(f,d,c,e,a,b){if(!f||!$.isString(f)){$.error("title"+$.lang.get("view.web.jcl.tapestry.nav.notnull"));}if(!d||!$.isString(d)){$.error("page"+$.lang.get("view.web.jcl.tapestry.nav.notnull"));}Wade.nav.checkTopWindow();if(Wade.nav.topIsSameDomain&&!Wade.nav.topIsSamePage&&top.Wade&&top.Wade.nav.adapter){if(!a){a=$.redirect.getPathName();
}top.Wade.nav.adapter.openLock.apply(window,[f,d,c,e,a,b]);return;}else{if(Wade.nav.adapter){Wade.nav.adapter.openLock.apply(window,[f,d,c,e,a,b]);return;}}$.redirect.toPage(a,d,c,e);},openByUrl:function(d,a,b,c){if(!d||!$.isString(d)){$.error("title"+$.lang.get("view.web.jcl.tapestry.nav.notnull"));
}if(!a||!$.isString(a)){$.error("url"+$.lang.get("view.web.jcl.tapestry.nav.notnull"));}Wade.nav.checkTopWindow();if(Wade.nav.topIsSameDomain&&!Wade.nav.topIsSamePage&&top.Wade&&top.Wade.nav.adapter){if(a.indexOf("?")<0&&!b){b=$.redirect.getPathName();}top.Wade.nav.adapter.openByUrl.apply(window,[d,a,b,c]);
return;}else{if(Wade.nav.adapter){Wade.nav.adapter.openByUrl.apply(window,[d,a,b,c]);return;}}$.redirect.toUrl(a);},redirect:function(f,d,c,e,a,b){Wade.nav.checkTopWindow();if(Wade.nav.topIsSameDomain&&!Wade.nav.topIsSamePage&&top.Wade&&top.Wade.nav.adapter){if(!a){a=$.redirect.getPathName();}top.Wade.nav.adapter.redirect.apply(window,[f,d,c,e,a,b]);
return;}else{if(Wade.nav.adapter){Wade.nav.adapter.redirect.apply(window,[f,d,c,e,a,b]);return;}}$.redirect.toPage(a,d,c,e);},redirectByUrl:function(d,a,b,c){if(!d||!$.isString(d)){$.error("title"+$.lang.get("view.web.jcl.tapestry.nav.notnull"));}if(!a||!$.isString(a)){$.error("url"+$.lang.get("view.web.jcl.tapestry.nav.notnull"));
}Wade.nav.checkTopWindow();if(Wade.nav.topIsSameDomain&&!Wade.nav.topIsSamePage&&top.Wade&&top.Wade.nav.adapter){if(a.indexOf("?")<0&&!b){b=$.redirect.getPathName();}top.Wade.nav.adapter.redirectByUrl.apply(window,[d,a,b,c]);return;}else{if(Wade.nav.adapter){Wade.nav.adapter.redirectByUrl.apply(window,[d,a,b,c]);
return;}}$.redirect.toUrl(a);},reload:function(){Wade.nav.checkTopWindow();var a=window.location.href;if(a){a=a.replace(/#.*$/,"");if(Wade.nav.topIsSameDomain&&!Wade.nav.topIsSamePage&&top.Wade&&top.Wade.nav.adapter){return top.Wade.nav.adapter.reload(a);}else{if(Wade.nav.adapter){return Wade.nav.adapter.reload(a);
}}}},getData:function(){Wade.nav.checkTopWindow();if(Wade.nav.topIsSameDomain&&!Wade.nav.topIsSamePage&&top.Wade&&top.Wade.nav.adapter){return top.Wade.nav.adapter.getData();}else{if(Wade.nav.adapter){return Wade.nav.adapter.getData();}}},getDataByTitle:function(a){if(!a||!$.isString(a)){$.error("title"+$.lang.get("view.web.jcl.tapestry.nav.notnull"));
}Wade.nav.checkTopWindow();if(Wade.nav.topIsSameDomain&&!Wade.nav.topIsSamePage&&top.Wade&&top.Wade.nav.adapter){return top.Wade.nav.adapter.getDataByTitle(a);}else{if(Wade.nav.adapter){return Wade.nav.adapter.getDataByTitle(a);}}},getTitle:function(){if($.isSameDomain(top)&&!$.isSamePage(top)&&top.Wade&&top.Wade.nav.adapter){return top.Wade.nav.adapter.getTitle();
}if(Wade.nav.adapter){return Wade.nav.adapter.getTitle();}},getContentWindow:function(){if($.isSameDomain(top)&&!$.isSamePage(top)&&top.Wade&&top.Wade.nav.adapter){return top.Wade.nav.adapter.getContentWindow();}if(Wade.nav.adapter){return Wade.nav.adapter.getContentWindow();}},getContentWindowByTitle:function(a){if(!a||!$.isString(a)){$.error("title"+$.lang.get("view.web.jcl.tapestry.nav.notnull"));
}Wade.nav.checkTopWindow();if(Wade.nav.topIsSameDomain&&!Wade.nav.topIsSamePage&&top.Wade&&top.Wade.nav.adapter){return top.Wade.nav.adapter.getContentWindowByTitle(a);}else{if(Wade.nav.adapter){return Wade.nav.adapter.getContentWindowByTitle(a);}}},switchByTitle:function(a){if(!a||!$.isString(a)){$.error("title"+$.lang.get("view.web.jcl.tapestry.nav.notnull"));
}Wade.nav.checkTopWindow();if(Wade.nav.topIsSameDomain&&!Wade.nav.topIsSamePage&&top.Wade&&top.Wade.nav.adapter){return top.Wade.nav.adapter.switchByTitle(a);}else{if(Wade.nav.adapter){return Wade.nav.adapter.switchByTitle(a);}}return false;},close:function(){Wade.nav.checkTopWindow();if(Wade.nav.topIsSameDomain&&!Wade.nav.topIsSamePage&&top.Wade&&top.Wade.nav.adapter){return top.Wade.nav.adapter.close();
}else{if(Wade.nav.adapter){return Wade.nav.adapter.close();}}window.close();return false;},closeByTitle:function(a){if(!a||!$.isString(a)){$.error("title"+$.lang.get("view.web.jcl.tapestry.nav.notnull"));}Wade.nav.checkTopWindow();if(Wade.nav.topIsSameDomain&&!Wade.nav.topIsSamePage&&top.Wade&&top.Wade.nav.adapter){return top.Wade.nav.adapter.closeByTitle(a);
}else{if(Wade.nav.adapter){return Wade.nav.adapter.closeByTitle(a);}}window.close();return false;},createAdapter:function(a){if(!a||!$.isPlainObject(a)){$.error($.lang.get("view.web.jcl.tapestry.nav.navobj"));}$.each(("init,open,openByUrl,redirect,redirectByUrl,reload"+",getData,getDataByTitle"+",getTitle"+",getContentWindow,getContentWindowByTitle"+",switchByTitle"+",close,closeByTitle").split(","),function(b,c){if(!a[c]||!$.isFunction(a[c])){$.error($.lang.get("view.web.jcl.tapestry.nav.navimp",'"'+(Wade.nav.methods[c]?Wade.nav.methods[c]:c)+'"'));
}});Wade.nav.adapter=a;}};$(function(){$.nav.init(window,document);});window.openNav=Wade.nav.open;window.openNavByUrl=Wade.nav.openByUrl;window.redirectNav=Wade.nav.redirect;window.redirectNavByUrl=Wade.nav.redirectByUrl;window.reloadNav=Wade.nav.reload;window.closeNav=Wade.nav.close;window.closeNavByTitle=Wade.nav.closeByTitle;
window.getNavTitle=Wade.nav.getTitle;window.getNavContent=Wade.nav.getContentWindow;window.getNavContentByTitle=Wade.nav.getContentWindowByTitle;window.switchToNav=Wade.nav.switchByTitle;window.getNavData=Wade.nav.getData;window.getNavDataByTitle=Wade.nav.getDataByTitle;/*!
 * validate library for webframe
 * http://www.wadecn.com/
 * auth:xiedx@asiainfo-linkage.com
 * Copyright 2011, WADE
 */
(function(d){d.verifylib={checkLength:function(f,e){if(f&&d.isString(f)&&f.length!=e){return false;}return true;},checkMinLength:function(f,e){if(f&&d.isString(f)&&f.length<e){return false;
}return true;},checkMaxLength:function(f,e){if(f&&d.isString(f)&&f.length>e){return false;}return true;},checkInteger:function(f,e){if(""!=f&&!/^(-|\+)?\d+$/.test(f)){return false;}return true;},checkPInteger:function(e){if(""!=e&&!/^\d+$/.test(e)){return false;}return true;},checkNInteger:function(e){if(""!=e||!/^-\d+$/.test(e)){return false;
}return true;},checkNumeric:function(g,f){if(""!=g&&!/^(-|\+)?\d+(\.\d+)?$/.test(g)){return false;}if(""!=g&&f&&d.isString(f)&&f.indexOf(".")!=-1&&g){var e=parseFloat(g);if(e<0){e=-e;}e=e.toString();if(e.indexOf(".")!=-1&&(f.length-f.indexOf(".")<e.length-e.indexOf("."))){return false;}}return true;},checkNature:function(e){if(""!=e&&(!/^\d+$/.test(e)||/[^0]/.test(e))){return false;
}return true;},checkNumberRange:function(g,f,e){if(""!=g&&parseInt(g)<parseInt(f)){return false;}if(""!=g&&parseInt(g)>parseInt(e)){return false;}return true;},checkNumbericRange:function(g,f,e){if(g&&""!=g&&f!=undefined&&(parseFloat(g)<parseFloat(f))){return false;}if(g&&""!=g&&e!=undefined&&(parseFloat(g)>parseFloat(e))){return false;
}return true;},checkDate:function(g,e){if(!g||!e){return true;}e=d.trim(e).toUpperCase();var f;switch(e){case"YYYY":f=/^([1-2]\d{3})$/;break;case"YYYYMM":f=/^([1-2]\d{3})([0-1]?[0-9])$/;break;case"YYYY-MM":f=/^([1-2]\d{3})(-|\/)([0-1]?[0-9])$/;break;case"YYYY/MM":f=/^([1-2]\d{3})(\/|\/)([0-1]?[0-9])$/;
break;case"YYYYMMDD":f=/^([1-2]\d{3})([0-1]?[0-9])([0-3]?[0-9])$/;break;case"YY-MM-DD":f=/^(\d{2})(-|\/)([0-1]?[0-9])\2([0-3]?[0-9])$/;break;case"YYYY-MM-DD":f=/^([1-2]\d{3})(-|\/)([0-1]?[0-9])\2([0-3]?[0-9])$/;break;case"YYYY/MM/DD":f=/^([1-2]\d{3})(\/|\/)([0-1]?[0-9])\2([0-3]?[0-9])$/;break;case"MM-DD":case"MM/DD":f=/^([0-1]?[0-9])(-|\/)([0-3]?[0-9])$/;
break;case"HH":f=/^(\d{2})$/;break;case"HHMM":f=/^(\d{2})(\d{2})$/;break;case"HH:MM":f=/^(\d{2})(:)?(\d{2})$/;break;case"HHMMSS":f=/^(\d{2})(\d{2})(\d{2})$/;break;case"HH:MM:SS":f=/^(\d{2})(:)?(\d{2})\2(\d{2})$/;break;case"YYYYMMDD HH":f=/^([1-2]\d{3})([0-1]?[0-9])([0-3]?[0-9]) (\d{2})$/;break;case"YYYY-MM-DD HH":f=/^([1-2]\d{3})(-|\/)([0-1]?[0-9])\2([0-3]?[0-9]) (\d{2})$/;
break;case"YYYY/MM/DD HH":f=/^([1-2]\d{3})(\/|\/)([0-1]?[0-9])\2([0-3]?[0-9]) (\d{2})$/;break;case"YYYYMMDD HHMM":f=/^([1-2]\d{3})([0-1]?[0-9])([0-3]?[0-9]) (\d{2})(\d{2})$/;break;case"YYYY-MM-DD HH:MM":f=/^([1-2]\d{3})(-|\/)([0-1]?[0-9])\2([0-3]?[0-9]) (\d{2}):(\d{2})$/;break;case"YYYY/MM/DD HH:MM":f=/^([1-2]\d{3})(\/|\/)([0-1]?[0-9])\2([0-3]?[0-9]) (\d{2}):(\d{2})$/;
break;case"YYYYMMDD HHMMSS":f=/^([1-2]\d{3})([0-1]?[0-9])([0-3]?[0-9]) (\d{2})(\d{2})(\d{2})$/;break;case"YYYYMMDDHHMMSS":f=/^([1-2]\d{3})([0-1]?[0-9])([0-3]?[0-9])(\d{2})(\d{2})(\d{2})$/;break;case"YYYY-MM-DD HH:MM:SS":case"YYYY/MM/DD HH:MM:SS":f=/^([1-2]\d{3})(-|\/)([0-1]?[0-9])\2([0-3]?[0-9]) (\d{2}):(\d{2}):(\d{2})$/;
break;}if(!f){return false;}return f.test(g);},checkEmail:function(e){if(""!=e&&!/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(e)){return false;}return true;},checkFile:function(h,g){if(""!=h&&d.isString(h)&&g&&d.isString(g)){var f=g.split(",");for(var e=0;e<f.length;e++){if(h.toUpperCase().endsWith(f[e].toUpperCase())){return true;
}}return false;}return true;},checkMbphone:function(e){if(""!=e&&(!/^[0-9]+$/.test(e)||!(e.length>7&&e.length<18))){return false;}return true;},checkPspt:function(i){if(""==i){return true;}if(i&&!d.isString(i)){return d.lang.get("view.web.jcl.tapestry.validate.pspt1");}var p=new Array(d.lang.get("view.web.jcl.tapestry.validate.pspt2"),d.lang.get("view.web.jcl.tapestry.validate.pspt3"),d.lang.get("view.web.jcl.tapestry.validate.pspt4"),d.lang.get("view.web.jcl.tapestry.validate.pspt5"),d.lang.get("view.web.jcl.tapestry.validate.pspt6"),d.lang.get("view.web.jcl.tapestry.validate.pspt7"));
var g={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"};var m=i,f,n;
var j,l,o;var e=new Array();if(m.charAt(m.length-1)=="*"){m=m.substring(0,m.length-1)+"X";}e=m.split("");if(!g[parseInt(m.substr(0,2),10)]){return p[4];}switch(m.length){case 15:if((parseInt(m.substr(6,2))+1900)%4==0||((parseInt(m.substr(6,2))+1900)%100==0&&(parseInt(m.substr(6,2))+1900)%4==0)){o=/^[1-9][0-9]{5}([0-9]{2})((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}$/;
}else{o=/^[1-9][0-9]{5}([0-9]{2})((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-9]))[0-9]{3}$/;}if(o.test(m)){var k=m.match(o);var h=(new Date()).getFullYear();if(typeof(k)=="object"&&(k instanceof Array)&&k.length){if(parseInt(("19"+k[1].toString()),10)+100<h){return confirm(p[5])?true:d.lang.get("view.web.jcl.tapestry.validate.nopass");
}}k=null;return true;}else{return p[2];}break;case 18:if(parseInt(m.substr(6,4))%4==0||(parseInt(m.substr(6,4))%100==0&&parseInt(m.substr(6,4))%4==0)){o=/^[1-9][0-9]{5}((19|20)[0-9]{2})((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}[0-9Xx]$/;
}else{o=/^[1-9][0-9]{5}((19|20)[0-9]{2})((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-9]))[0-9]{3}[0-9Xx]$/;}if(o.test(m)){var k=m.match(o);var h=(new Date()).getFullYear();if(typeof(k)=="object"&&(k instanceof Array)&&k.length){k=parseInt(k[1],10);
if((k+15)>h||(k+100)<h){return confirm(p[5])?true:d.lang.get("view.web.jcl.tapestry.validate.nopass");}}k=null;return true;}else{return p[2];}break;default:return p[1];break;}return true;},checkIp:function(e){if(""!=e&&!/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/.test(e)){return false;
}return true;},checkNumChar:function(e){if(""!=e&&!/^[a-zA-Z0-9]+$/.test(e)){return false;}return true;},checkNumUChar:function(e){if(""!=e&&!/^[A-Z0-9]+$/.test(e)){return false;}return true;},checkNumLChar:function(e){if(""!=e&&!/^[a-z0-9]+$/.test(e)){return false;}return true;},checkCustName:function(f){var e=new RegExp('[,\'\\\\，\\/"":\\{\\}\\[\\]]+',"gi");
if(""!=f&&e.test(f)){return false;}return true;},checkBoxNum:function(f){var e=false;d("input[name="+f+"]").each(function(){if(this.checked){e=true;return false;}});return e;}};function b(e){if(undefined==e){e=document;}var j=null;if(e&&e.nodeType){j=d("*[desc]",e).toArray();}else{if(d.isString(e)){j=d("#"+e+" *[desc]").toArray();
}}var h=true;if(j&&j.length){var g;for(var f=0;f<j.length;f++){g=j[f];if(g.disabled){continue;}if(!d.attr(g,"desc")){continue;}if(!d.validate.verifyField(g)){h=false;}if(!h&&!d.validate.alerter.multiple){return false;}}}j=null;return h;}function c(e){if(d.isElement(e)){var f=d(e).data("beforeValide");
var g=d(e).data("beforeValideData");if(f&&d.isFunction(f)){return f(g);}}return true;}function a(e,g){if(d.isElement(e)){var f=d(e).data("afterValide");var h=d(e).data("afterValideData");if(f&&d.isFunction(f)){return f(g,h);}}return g;}d.validate={verifyField:function(x){var e;if(!x){return false;}if(x.nodeType){e=x;
}else{if(d.isString(x)){e=document.getElementById(x);}else{if(d.isObject(x)&&x.length){e=x[0];}}}if(!e||!e.nodeType){d.validate.alerter.one(null,"dom element not found："+x);return false;}var v=d(e);var s=v.attr("desc"),y=v.val();if(d.isString(y)){y=d.trim(y);}if(!s){d.validate.alerter.one(e,d.lang.get("view.web.jcl.tapestry.validate.desc1"));
return false;}if("no"==v.attr("nullable")&&(!y||""==y)){if(d.nodeName(e,"input")&&v.attr("name")&&("checkbox"==v.attr("type")||"radio"==v.attr("type"))){if(!d.verifylib.checkBoxNum(v.attr("name"))){d.validate.alerter.one(e,s+d.lang.get("view.web.jcl.tapestry.validate.desc2"));return false;}}else{d.validate.alerter.one(e,s+d.lang.get("view.web.jcl.tapestry.validate.desc3"));
return false;}}if(v.attr("equsize")&&!d.verifylib.checkLength(y,v.attr("equsize"))){d.validate.alerter.one(e,d.lang.get("view.web.jcl.tapestry.validate.length1",s,v.attr("equsize")));return false;}if(v.attr("minsize")&&!d.verifylib.checkMinLength(y,v.attr("minsize"))){d.validate.alerter.one(e,d.lang.get("view.web.jcl.tapestry.validate.length2",s,v.attr("minsize")));
return false;}if(v.attr("maxsize")&&!d.verifylib.checkMaxLength(y,v.attr("maxsize"))){d.validate.alerter.one(e,d.lang.get("view.web.jcl.tapestry.validate.length3",s,v.attr("maxsize")));return false;}var m;switch(v.attr("datatype")){case"integer":if(!d.verifylib.checkInteger(y)){d.validate.alerter.one(e,s+d.lang.get("view.web.jcl.tapestry.validate.int1"));
return false;}break;case"pinteger":if(!d.verifylib.checkPInteger(y)){d.validate.alerter.one(e,s+d.lang.get("view.web.jcl.tapestry.validate.int2"));return false;}break;case"ninteger":if(!d.verifylib.checkNInteger(y)){d.validate.alerter.one(e,s+d.lang.get("view.web.jcl.tapestry.validate.int3"));return false;
}break;case"numeric":if(!d.verifylib.checkNumeric(y,v.attr("format"))){d.validate.alerter.one(e,s+d.lang.get("view.web.jcl.tapestry.validate.int4"));return false;}break;case"nature":if(!d.verifylib.checkNature(y)){d.validate.alerter.one(e,s+d.lang.get("view.web.jcl.tapestry.validate.int5"));return false;
}break;case"date":var r=v.attr("format");var n=v.attr("minFormat");var u=v.attr("maxFormat");if(r&&!d.verifylib.checkDate(y,r)){d.validate.alerter.one(e,d.lang.get("view.web.jcl.tapestry.validate.date1",s,"("+r+")"));return false;}var k=v.attr("minName");var o=v.attr("maxName");var p=v.attr("min");var q=v.attr("max");
if(y&&r){y=y.toDate(r);var t,h,w,f,j,l,g,i;if(k&&(w=d("#"+k))&&w.val()&&w.attr("desc")){t=w.val();h=(n?t.toDate(n):t.toDate(r));f=w.attr("desc");}if(p){t=(n?p.toDate(n):p.toDate(r));h=((h&&t<h)?h:t);f=((f&&t<h)?f:p);}if(h&&f&&y<h){d.validate.alerter.one(e,d.lang.get("view.web.jcl.tapestry.validate.date2",s,f));
return false;}if(o&&(g=d("#"+o))&&g.val()&&g.attr("desc")){j=g.val();l=(u?j.toDate(u):j.toDate(r));i=g.attr("desc");}if(q){j=(u?q.toDate(u):q.toDate(r));l=((l&&j>l)?l:j);i=((i&&j>l)?i:q);}if(l&&i&&y>l){d.validate.alerter.one(e,d.lang.get("view.web.jcl.tapestry.validate.date3",s,i));return false;}}break;
case"email":if(!d.verifylib.checkEmail(y)){d.validate.alerter.one(e,s+d.lang.get("view.web.jcl.tapestry.validate.email"));return false;}break;case"file":if(!d.verifylib.checkFile(y,v.attr("extname"))){d.validate.alerter.one(e,d.lang.get("view.web.jcl.tapestry.validate.filetype",s,"("+v.attr("extname")+")"));
return false;}break;case"mbphone":if(!d.verifylib.checkMbphone(y)){d.validate.alerter.one(e,s+d.lang.get("view.web.jcl.tapestry.validate.phone"));return false;}break;case"pspt":m=d.verifylib.checkPspt(y);if(true!==m){d.validate.alerter.one(e,m);return false;}break;case"ip":if(!d.verifylib.checkIp(y)){d.validate.alerter.one(e,s+d.lang.get("view.web.jcl.tapestry.validate.ip"));
return false;}break;case"numchar":if(!d.verifylib.checkNumChar(y)){d.validate.alerter.one(e,s+d.lang.get("view.web.jcl.tapestry.validate.numchar1"));return false;}break;case"numuchar":if(!d.verifylib.checkNumUChar(y)){d.validate.alerter.one(e,s+d.lang.get("view.web.jcl.tapestry.validate.numchar2"));return false;
}break;case"numlchar":if(!d.verifylib.checkNumLChar(y)){d.validate.alerter.one(e,s+d.lang.get("view.web.jcl.tapestry.validate.numchar3"));return false;}break;case"custname":if(!d.verifylib.checkCustName(y)){d.validate.alerter.one(e,s+d.lang.get("view.web.jcl.tapestry.validate.numchar4"));return false;
}break;}return true;},verifyAll:function(e){return b(e,true);},verifyBox:function(e,g,f){if(!d.verifylib.checkBoxNum(g)){if(!f){f=d.lang.get("view.web.jcl.tapestry.validate.choose");}d.validate.alerter.one(e,f);return false;}return true;},queryOper:function(e,f){b(e);return true;},confirmOper:function(e,g,f){if(!g||window.confirm(g)){b(e);
return true;}return false;},queryAll:function(e,f){var g=false;if(c(e)&&b(e,true)){g=true;}a(e,g);return g;},confirmAll:function(e,h,f){var g=false;if(c(e)&&b(e,true)){if(!h||window.confirm(h)){g=true;}}a(e,g);return g;},queryBox:function(e,g){var f=false;if(c(e)&&d.validate.verifyBox(e,g)){f=true;}a(e,f);
return f;},confirmBox:function(e,h,g){var f=false;if(c(e)&&d.validate.verifyBox(e,h)){if(!g||window.confirm(g)){f=true;}}a(e,f);return f;}};d.validate.alerter={multiple:false,one:function(e,f){alert(f);if(e&&e.nodeType){d(e).focus();}}};d.each("verifyField,verifyAll,verifyBox,queryOper,confirmOper,queryAll,confirmAll,queryBox,confirmBox".split(","),function(e,f){window[f]=d.validate[f];
});})(Wade);(function(a){if(a.resource==undefined){a.resource={combinePath:function(f,e,c){if(!f||!a.isString(f)){return;}var b=window.releaseNumber||a.ctx.attr("v");var d=window.wadeWebResourcePath&&a.isString(window.wadeWebResourcePath);if(!c){if(e&&d){if(window.wadeWebResourcePath){f=a.combinePath(window.wadeWebResourcePath,f);
}}else{if(window.webResourcePath){f=a.combinePath(window.webResourcePath,f);}}}if(e&&d){f+=(f.indexOf("?")>-1?"&":"?")+"v="+window.wadeWebResourceVersion;}else{f+=(f.indexOf("?")>-1?"&":"?")+"v="+b;}return f;}};}document.write('<script language="javascript" type="text/javascript" src="handler?clazz=com.ailk.web.BaseHttpHandlerJSVariable&method=init&v='+a.ctx.attr("v")+'"></'+"script>\r\n");
})(Wade);/*!
 * public library for webframe
 * http://www.wadecn.com/
 * auth:xiedx@asiainfo-linkage.com
 * Copyright 2011, WADE
 */
(function(){if($.browser.msie){$.isIE=true;var ieVer=parseInt($.browser.version);$.isIE6=(ieVer==6);$.isIE7=(ieVer==7);$.isIE8=(ieVer==8);$.isIE9=(ieVer==9);}$.isSafari=$.browser.webkit&&!window.chrome;
$.isChrome=$.browser.webkit&&window.chrome;$.isFireFox=$.browser.webkit&&$.browser.mozilla;$.isOpera=$.browser.opera;$.each("isIE,isIE6,isIE7,isIE8,isIE9,isSafari,isChrome,isFireFox,isOpera".split(","),function(idx,name){window[name]=Wade[name];});$.each("isNumber,isNumeric,isString,isBoolean,isFunction,isArray,isObject,isPlainObject,isEmptyObject,isElement,isWindow,inArray,isNodeName,trim".split(","),function(idx,name){window[name]=Wade[name];
});function modifyDomOnBindJsonData(jsonObj,item,jsonObjToEval,notBlankNoJsonData){try{var objValue=eval(jsonObjToEval);if((typeof objValue)=="undefined"){if(!notBlankNoJsonData){$(item).attr("value","");}}else{$(item).attr("value",objValue);}}catch(e){if(!notBlankNoJsonData){$(item).attr("value","");
}}}$.extend({fnEncrypt:function(InputPwd,ParaPwd){var bytes=6,retlen=6;var randSeed1=23456;var randSeed2=31212;var randSeed3=1029;var modSeed=32768;var mm=new Array();var tempChar="0";var tempChar1="0";var tempChar2="0";var cmm="",pwd="";var result="";if(InputPwd==null||InputPwd.length<=0){return null;
}if(ParaPwd==null||ParaPwd.length<=0){return null;}pwd=InputPwd+ParaPwd;for(var i=0;i<101;i++){mm[i]=0;}var longtmp=0;var length=pwd.length;for(var i=1;i<=length;i++){longtmp=pwd.charCodeAt(i-1);randSeed1=(randSeed1+longtmp*i)%modSeed;randSeed2=((randSeed2+longtmp*(length-i))%(modSeed/4))*2;randSeed3=((randSeed3+longtmp*longtmp)%(modSeed/4))*2+1;
}InputPwd=pwd;if(bytes>10){bytes=10;}length=InputPwd.length;if(length>bytes){}else{for(length=length+1;length<=bytes;length++){randSeed1=(randSeed1*randSeed2+randSeed3)%modSeed;longtmp=randSeed1%126;if(longtmp<33){longtmp="A".charCodeAt(0)+longtmp;}InputPwd+=String.fromCharCode(longtmp);}}length=ParaPwd.length;
if(length>bytes){}else{for(length=length+1;length<=bytes;length++){randSeed1=(randSeed1*randSeed2+randSeed3)%modSeed;longtmp=randSeed1%126;if(longtmp<33){longtmp="A".charCodeAt(0)+longtmp;}ParaPwd+=String.fromCharCode(longtmp);}}longtmp=(randSeed1*randSeed2+randSeed3)%modSeed;for(var j=1;j<=bytes;j++){for(var k=1;
k<=bytes;k++){tempChar1=InputPwd.charCodeAt(j-1);tempChar2=ParaPwd.charCodeAt(j-1);longtmp=(longtmp*randSeed1+tempChar1*tempChar2*j)%modSeed;if(longtmp>=modSeed/2){randSeed1=(randSeed1*randSeed2+randSeed3)%modSeed;mm[parseInt(randSeed1%(bytes*bytes))]=randSeed1;}else{randSeed1=(randSeed1*(randSeed3+1)+randSeed2+1)%modSeed;
mm[parseInt(randSeed1%(bytes*bytes))]=randSeed1;}}}for(var k=parseInt(bytes*bytes);k>=1;k--){if(k>1){mm[k-1]+=parseInt(mm[k]/256);}}for(var k=1;k<=bytes*bytes;k++){randSeed1=(randSeed1*randSeed1)%modSeed;if(mm[k]==0){mm[k]=parseInt(randSeed1);}}for(var k=1;k<=bytes;k++){for(var i=1;i<=bytes;i++){tempChar1=InputPwd.charCodeAt(i-1);
tempChar2=ParaPwd.charCodeAt(k-1);longtmp=parseFloat(mm[parseInt(i+(k-1)*bytes)]*parseInt(tempChar2)*parseInt(tempChar1))%62;if(longtmp<10){cmm+=String.fromCharCode(longtmp+"0".charCodeAt(0));}else{if(longtmp<36){cmm+=String.fromCharCode(longtmp-10+"a".charCodeAt(0));}else{if(longtmp<62){cmm+=String.fromCharCode(longtmp-36+"A".charCodeAt(0));
}else{cmm+="_";}}}}}mm=null;result=cmm.substring(0,retlen);return result;},checkedAll:function(boxName,checked){if(!boxName){return;}if(checked==undefined){checked=true;}$("input[name="+boxName+"]").each(function(){if("checkbox"!=$.attr(this,"type")){return;}if(this.disabled||"temp"==this.getAttribute("flag")){return;
}this.checked=checked;});},checkedOther:function(boxName){if(!boxName){return;}$("input[name="+boxName+"]").each(function(){if("checkbox"!=$.attr(this,"type")){return;}if(this.disabled||"temp"==this.getAttribute("flag")){return;}this.checked=!this.checked;});},getCheckedBoxNum:function(boxName){if(!boxName){return 0;
}var num=0;$("input[name="+boxName+"]").each(function(){if(("checkbox"==$.attr(this,"type")||"radio"==$.attr(this,"type"))&&this.checked){num++;}});return num;},getCheckedValues:function(boxName){var value="";$("input[name="+boxName+"]:checked").each(function(){if("checkbox"==$.attr(this,"type")){value+=$(this).val()+",";
}});if(value!=""){value=value.substring(0,value.length-1);}return value;},fillArea:function(areaId,data,prefix){if(!areaId||!$.isString(areaId)){return;}if(!data||!$.isObject(data)){return;}var els=$("#"+areaId+" input[name],#"+areaId+" select[name],#"+areaId+" textarea[name]");if(els.length){els.each(function(){var name=$.attr(this,"name");
if(prefix&&$.isString(prefix)){if(name.indexOf(prefix)!=0){return;}name=name.replace(prefix+"_","");}var val=((data instanceof $.DataMap)&&data.length)?data.get(name):data[name];if($.nodeName(this,"input")){var type=$.attr(this,"type");if("checkbox"==type||"radio"==type){if($(this).val()==val){$.attr(this,"checked",true);
}}else{$(this).val(val);}}else{$(this).val(val);}});}},fetchArea:function(areaId){return $.ajax.buildPostData(areaId);},resetArea:function(areaId,clean){if(areaId!=null&&areaId!=""){$.each(areaId.split(","),function(idx,item){var dom=$("#"+item);if(dom&&dom.attr("uiid")&&clean==true){var isOldAjaxJsonData=$.ctx.attr("oldAjaxJsonData");
if(isOldAjaxJsonData!=false){dom.removeData("oldAjaxJsonData");}}$("#"+item+" input[name],#"+item+" select[name],#"+item+" textarea[name]").val("");});}},printArea:function(areaId,title,zoom){if(!areaId||!$.isString(areaId)){return;}var html=[];html.push('<!DOCTYPE html>\r\n<html>\r\n<head>\r\n<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\r\n');
html.push('<script src="'+$.resource.combinePath("jcl/webframe-jcl.js",true)+'" type="text/javascript"></'+"script>\r\n");html.push('<link href="'+$.resource.combinePath("ecl/webframe-ecl-base.css",true)+'"  rel="stylesheet" type="text/css"/>\r\n');html.push('<link href="'+$.resource.combinePath("ecl/webframe-ecl-print.css",true)+'"  rel="stylesheet" type="text/css"/>\r\n');
html.push("</head>\r\n<body>\r\n");html.push('<div class="c_print"><div class="paper">\r\n<div class="paperTop"><span></span></div>');html.push('<div class="paperContent"><div class="paperWrapper"><div class="paperWrapper2"><div id="paperContent" style="font-size:100%;"><div style="font-size:'+(zoom?zoom:"100%")+'">');
html.push($("#"+areaId).html());html.push("</div></div></div></div></div>");html.push('<div class="paperBottom"><span></span></div>\r\n</div></div>');html.push('<div id="printFn" class="c_printFn"><div class="fn"><ul><li>\r\n');html.push('<span class="label">'+$.lang.get("view.web.jcl.tapestry.public.printArea.label.fontresize")+"：</span>"+'<span class="e_slip">'+'<span class="e_slipProgress">'+'<span id="slipBar" class="e_slipBar" style="width:50%"></span>'+'<span id="slipHandle" class="e_slipHandle" style="left:50%"></span>'+"</span>"+'<span id="slipValue" class="e_slipValue">100%</span><span id="log"></span>'+"</span>"+"</li></ul>");
html.push('</div><div class="submit"><a href="#nogo" class="close" onclick="javascript:window.close();">'+$.lang.get("view.web.jcl.tapestry.public.printArea.button.close")+"</a>");html.push('<a href="#nogo" class="finish" onclick="javascript:window.print();">'+$.lang.get("view.web.jcl.tapestry.public.printArea.button.print")+"</a></div></div>\r\n");
html.push('<script src="'+$.resource.combinePath("component/print/printpreview.js",true)+'" type="text/javascript"></'+"script>\r\n");html.push("</body></html>");var pwin=window.open("about:blank","_new_print_win_"+($.guid++),"height=600,width=900,status=no,toolbar=no,menubar=no,location=no,resizable=yes");
pwin.document.write(html.join(""));pwin.document.close();if(title&&$.isString(title)){pwin.document.title=title;}html=null;pwin=null;},disabledButton:function(btnId,disabled){var btnObj=$("#"+btnId);if(disabled==true){btnObj.attr("disabled","disabled");var btnClass=btnObj.attr("class");if(!btnClass||(btnClass&&btnClass.indexOf("e_dis")==-1)){btnObj.attr("discss",btnObj.attr("class"));
btnObj.addClass("e_dis");}}else{var btnClass=btnObj.attr("class");btnObj.removeAttr("disabled");if(btnClass&&btnClass.indexOf("e_dis")!=-1){btnObj.attr("class",btnObj.attr("discss"));btnObj.removeAttr("discss");}}},disabledArea:function(areaId,disabled){if(areaId!=null&&areaId!=""){$.each(areaId.split(","),function(idx,item){$("#"+item+" input[name],#"+item+" select[name],#"+item+" textarea[name]").attr("disabled",disabled);
$("#"+item+" button").attr("disabled",disabled);$("#"+item+" button").each(function(buttonIdx,button){if(!$(button).attr("discss")){if(!$(button).attr("class")){$(button).attr("discss","");}else{$(button).attr("discss",$(button).attr("class"));}}if(disabled==true){$(button).attr("class",$(button).attr("class")+" e_dis");
}else{$(button).attr("class",$(button).attr("discss"));}});$("#"+item+" i").each(function(iIdx,i){if(!$(i).attr("discss")){if(!$(i).attr("class")){$(i).attr("discss","");}else{$(i).attr("discss",$(i).attr("class"));}}if(disabled==true){$(i).attr("class",$(i).attr("class")+" e_dis");}else{$(i).attr("class",$(i).attr("discss"));
}});});}},bindJSONData:function(divId,jsonObj,connectFlag,notBlankNoJsonData){if(jsonObj instanceof $.DataMap){jsonObj=jsonObj.toString();}if($.isString(jsonObj)){jsonObj=$.parseJSON(jsonObj);}connectFlag=!connectFlag?".":connectFlag;var changedId=divId;var replaceReg="";if("."!=connectFlag){replaceReg=new RegExp(connectFlag,"g");
changedId=changedId.replace(replaceReg,".");}modifyDomOnBindJsonData(jsonObj,$("#"+divId),"jsonObj."+changedId,notBlankNoJsonData);$("#"+divId+" [id]").each(function(idx,item){if(item){var objId=$(item).attr("id");objId=("."!=connectFlag)?objId.replace(replaceReg,"."):objId;modifyDomOnBindJsonData(jsonObj,item,"jsonObj."+objId,notBlankNoJsonData);
}});replaceReg=null;},translate:function(source,names,values,key,def){if(source==null||key==null){return def;}if(names!=null&&values!=null&&names.split(",").length!=values.split(",").length){return def;}if($.isString(source)||$.isArray(source)){source=$.DatasetList(source);}if(source instanceof $.DatasetList){var transval=def;
source.each(function(item,index,totalcount){if(item instanceof $.DataMap){var match=false;if((names==null&&values==null)||(names==""&&values=="")){if(item.containsKey(key)){transval=item.get(key,def);return false;}}else{var vs=values.split(",");$.each(names.split(","),function(idx,name){if(item.get($.trim(name))==vs[idx]){match=true;
}else{match=false;return false;}});if(match){transval=item.get($.trim(key),def);return false;}}}});return transval;}else{return def;}}});$.each("fnEncrypt,checkedAll,checkedOther,getCheckedBoxNum,getCheckedValues,fillArea,fetchArea,resetArea,printArea,disabledButton,disabledArea,bindJSONData,translate".split(","),function(idx,name){window[name]=$[name];
});})();(function(a){a.extend({getWrapperDiv:function(j,m,d){var e=j.parents("[class*=e_input]");if(e&&e.length>0){j=e;}if(a(j).data("wade_scroll_wrapper_ele")){a(j).data("wade_scroll_wrapper_ele").unbind("scroll");a(j).removeData("wade_scroll_wrapper_ele");}a(j).removeData("wade_wrapper_ele");if(!m){m=250;}var l=false;
var f=j.parents("[class*=c_scroll]");var i=false;var c;if(f.length>0){var b=a(j).offset().top-f.offset().top;var h=f[0].clientHeight;var n=h-b-parseInt(a(j)[0].offsetHeight,10);var g=a.ctx.attr("flowOutScroll");if(g!=undefined&&b<m&&n<m){if(g=="true"){l=false;i=true;c=f;}else{if(g=="false"){l=true;}else{g=parseInt(g,10);
if(a.isNumber(g)&&h<=g){l=false;i=true;c=f;}else{l=true;}}}}else{l=true;}}if(!l){var k=j.parents("[class*=c_popupWrapper]");if(k.length>0){f=k;l=true;}}if(!l){f=j.parents("[class*=m_wrapper2]");if(f.length>0){l=true;}}if(!l){f=a(document.body);}if(i){c.unbind("scroll");c.bind("scroll",function(){var o=a("#"+d);
var p=o.css("display");if(p!="none"){o.css("display","none");}return true;});}else{f.unbind("scroll");}a(j).data("wade_wrapper_ele",f);a(j).data("wade_scroll_wrapper_ele",c);return f;},initPosition:function(c,m,d,z,k,h){var t;var i;var A;var g;var F;var r;var l;var s;if(k&&k.length>0){if(k.css("display")!="none"){c=k;
}}if(z&&z.length>0){s=parseInt(z[0].offsetWidth,10);}var f=c.parents("[class*=e_input]");if(f&&f.length>0){c=f;}var J=a("#"+d).css("display");var H=a("#"+d).css("visibility");if(!H){if(J=="none"){a("#"+d).css("visibility","hidden");a("#"+d).css("display","block");}}else{a("#"+d).css("display","block");
}var e=a("#"+d);var j=e.width();if(j&&m<j){m=j;}var n;if(e&&e.length>0){n=parseInt(e[0].offsetHeight,10);}var q=a(c).data("wade_scroll_wrapper_ele");var y=a(c).data("wade_wrapper_ele");if(!y||y.length<1){y=a.getWrapperDiv(c,n,d);}var G=c.offset().top;var w=parseInt(c[0].offsetHeight,10);var u=parseInt(c[0].offsetWidth,10);
var b=c.offset().left;var E=parseInt(c.css("margin-left"),10);var C=a.css(c[0],"position");var p;var x=y.offset().left;var I=0;if(y&&y.length>0){I=parseInt(y.css("paddingLeft"),10);}if(C=="relative"||C=="absolute"){p=y.offset().top;if(q&&q.length>0){if(y&&y.length>0){D=y[0].scrollTop;}}else{var D=c[0].ownerDocument.documentElement.scrollTop||c[0].ownerDocument.body.scrollTop;
if(y&&y.length>0){D+=y[0].scrollTop;}}t=G+w+D-p;i=b-I-x;}else{if(q&&q.length>0){p=q.offset().top;t=G+p+w;i=b-I-x;}else{var D=c[0].ownerDocument.documentElement.scrollTop||c[0].ownerDocument.body.scrollTop;if(y&&y.length>0){D+=y[0].scrollTop;}p=y.offset().top;t=G+D-p+w;i=b+I-x;}}var o=y[0].clientWidth;
var K=y[0].clientHeight;if(i+m>o){i-=m;i+=u;if(s){i+=s;}}if(!h){h=y[0].scrollTop+y[0].clientHeight;}var B=h-t;if(B<n){var v=h-B-w;if(v>B&&t>=n){t=t-n-c[0].offsetHeight+3;}}if(!H){if(J=="none"){a("#"+d).css("visibility","visible");a("#"+d).css("display","none");}}else{if(J=="none"){a("#"+d).css("display","none");
}}return{"topPx":t,"leftPx":i,"widthPx":m};},updateTopPos:function(p,r,i){var m=p.parents("[class*=e_input]");if(m&&m.length>0){p=m;}var e=a("#"+r).css("display");var d=a("#"+r).css("visibility");if(!d){if(e=="none"){a("#"+r).css("visibility","hidden");a("#"+r).css("display","block");}}var j=parseInt(a("#"+r)[0].offsetHeight,10);
var g=a(p).data("wade_scroll_wrapper_ele");var c=a(p).data("wade_wrapper_ele");if(!c||c.length<1){c=a.getWrapperDiv(p,j,r);}var q=p.offset().top;var s=parseInt(p[0].offsetHeight,10);var f=p[0].ownerDocument.documentElement.scrollTop||p[0].ownerDocument.body.scrollTop;var h=a.css(p[0],"position");var o=0;
var k;var b=c.offset().top;if(g&&g.length>0){if(c&&c.length>0){f=c[0].scrollTop;}}else{if(c&&c.length>0){f+=c[0].scrollTop;}}o=q+f-b+s;if(!i){i=c[0].scrollTop+c[0].clientHeight;}var l=i-o;if(!d){if(e=="none"){a("#"+r).css("visibility","visible");a("#"+r).css("display","none");}}if(l<j){var n=i-l-s;if(n>l&&o>=j){o=o-j-s+3;
}}a("#"+r).css("top",o);}});})(Wade);(function(b){function a(f,p,h,c,m){var g=p.frames;var o=g?g.length:0;var n=null;for(var k=0;k<o;k++){n=g[k];if(n){var j;if(!m){j=n.name;if(!j||j==""){try{j=n.frameElement?(n.frameElement.name?n.frameElement.name:n.frameElement.getAttribute("name")):"";}catch(l){j="";}}}else{try{j=n.frameElement?n.frameElement.getAttribute(m):"";
}catch(l){j="";}}if(n&&(j==f)){return n;}if(n&&n.frames&&n.frames.length>0){if(h&&b.isNumber(h)&&c&&b.isNumber(c)){h++;if(h>c){return null;}}var d=a(f,n,h,c,m);if(d){return d;}}}}return null;}b.extend({getSameWadeDomainTop:function(f){if(!f){f=window;}var c=f;try{while(f&&f&&f.document&&f.parent&&f.parent&&f.parent.document&&(f.parent.document.domain==f.document.domain)){if(window.$&&window.$.nav&&window.$.nav.getContentWindow&&f==window.$.nav.getContentWindow()){break;
}f=f.parent;if(f.Wade&&f.Wade.expando){c=f;}if(f==top){break;}}}catch(d){}return c;},getGuidValue:function(){return(new Date()).valueOf();},getGlobalFrame:function(c,e){var d=null;if(c&&c!="undefined"&&b.nodeName(c,"iframe")){d=c;}else{if(c&&c!="undefined"&&c!="null"&&b.isString(c)){d=getFrame(c,null,e);
}else{if(b.nav!=undefined&&(b.nav.getContentWindow!=undefined)){d=b.nav.getContentWindow();}}}if(!d||!d.$||!d.$.expando){d=b.getSameWadeDomainTop(window);}return d;},getFrame:function(d,c,l){var k=null;if(b.isString(d)){var j=d.split(".");for(var f=0;f<j.length;f++){if(j[f]=="parent"){k=k==null?parent:k.parent;
}}j=null;if(k!=null){return k;}}var m=b.isSameDomain(top)?window.top:b.getSameWadeDomainTop(window);if(b.isArray(d)&&d.length>1){m=d[1];d=d[0];}var g;if(!l){try{g=m.frameElement?(m.frameElement.name?m.frameElement.name:m.frameElement.getAttribute("name")):m.name;}catch(h){g=m.name;}}else{try{g=m.frameElement?m.frameElement.getAttribute(l):"";
}catch(h){g="";}}if(g&&(g==d)){return m;}return a(d,m,0,c,l);},createFrame:function(c){var d=b("#"+c);var f=d.attr("params");var e="";if(f!=null&&f!=""){b.each(f.split("&"),function(g,i){var h=i.indexOf("=");if(h!=-1){e+="&"+i.substring(0,h)+"="+encodeURIComponent(i.substring(h+1));}else{e+="&"+i+"=";
}h=null;});}else{e=null;}d.attr("src",b.redirect.buildUrl(d.attr("subsys"),d.attr("page"),d.attr("listener"),e));d=null;f=null;e=null;}});b.each("getSameWadeDomainTop,getGuidValue,getGlobalFrame,getFrame,createFrame".split(","),function(c,d){window[d]=b[d];});})(Wade);(function(a){if(a.PopupWindowResize){return;}a.PopupWindowResize={direction:null,heightpart:null,boxele:null,frameele:null,heightlimit:null,widthlimit:null,bodylimit:null,cpleft:null,cptop:null,cpwidth:null,cpheight:null,scrollwidth:null,mouseDown:function(s){document.onselectstart=function(){return false;
};var b=a(s.target);var o=b.attr("class");PopupWindowResize.direction=o;var c=a("#popupProxy");if(!c||!c.length){var l='<div id="popupProxy" style="z-index:2000;position:fixed;border:1px solid #f60;display:none;"></div>'+'<div id="popupddCover" style="top:0px;left:0px;width:100%;height:100%;position:fixed;z-index:1999;background:#000;opacity:0;filter:alpha(opacity=0);"></div>';
a.insertHtml("beforeend",document.body,l);c=a("#popupProxy");}var j=b.parent().parent();PopupWindowResize.boxele=j;var t=j.parent().parent();var f=a("div[class=c_popupShadow]",t);var g=j.position().left;var m=j.position().top;var q=j.width();var n=j.height()-f.height();if(parseInt(f.css("top"))||parseInt(f.css("margin-top"))){n=n-parseInt(f.css("top"))-parseInt(f.css("margin-top"));
}c.css("left",g);c.css("top",m);c.css("width",q);c.css("height",n);c.css("display","block");a("#popupddCover").css("display","block");a(document).bind("mousemove",PopupWindowResize.mouseDrag);a(document).bind("mouseup",PopupWindowResize.mouseUp);var h="";if(o.indexOf("t")>-1){h+="n";}if(o.indexOf("b")>-1){h+="s";
}if(o.indexOf("r")>-1){h+="e";}if(o.indexOf("l")>-1){h+="w";}h+="-resize";var i=a(document.body);i.css("cursor",h);if(!j.attr("cpwidth")){j.attr("cpwidth",j.width());}var k=a("div[class=c_popupContentWrapper]",t);var u=k.children()[0].tagName;if(u.toUpperCase()=="IFRAME"){k=k.children();}if(!k.attr("cpheight")){k.attr("cpheight",k.height());
}if(!PopupWindowResize.topLimit){PopupWindowResize.topLimit=m;}if(!PopupWindowResize.leftLimit){PopupWindowResize.leftLimit=g;}var p=i.width();if(i.height()<j.height()){q-=PopupWindowResize.getScrollWidth();}PopupWindowResize.frameele=k;PopupWindowResize.heightpart=n-k.height();PopupWindowResize.heightlimit=parseInt(k.attr("cpheight"));
PopupWindowResize.widthlimit=parseInt(j.attr("cpwidth"));PopupWindowResize.bodylimit=p;PopupWindowResize.cpleft=g;PopupWindowResize.cptop=m;PopupWindowResize.cpwidth=q;PopupWindowResize.cpheight=n;var r=a("div[class=c_popupTitle] a[class=max]",t);var d=a("div[class=c_popupTitle] a[class=min]",t);if(r.css("display")!="none"&&d.css("display")=="none"){r.css("display","none");
d.css("display","");}},mouseDrag:function(g){var h=PopupWindowResize.direction;var k=PopupWindowResize.cpleft;var j=PopupWindowResize.cptop;var d=PopupWindowResize.cpwidth;var n=PopupWindowResize.cpheight;var i=PopupWindowResize.widthlimit;var f=PopupWindowResize.heightlimit;var l=PopupWindowResize.bodylimit;
var c=a("#popupProxy");var b;if(h.indexOf("t")>-1){var m=(n+(j-g.pageY)*2-PopupWindowResize.heightpart);if(m>f){c.css("top",g.pageY);c.css("height",n+(j-g.pageY)*2);}else{if(m<=f){c.css("top",PopupWindowResize.topLimit);c.css("height",f+PopupWindowResize.heightpart);}}}if(h.indexOf("r")>-1){b=d+2*(g.pageX-k-d);
if(b>i&&b<l){c.css("left",k*2+d-g.pageX);c.css("width",b);}else{if(b<=i){c.css("left",PopupWindowResize.leftLimit);c.css("width",PopupWindowResize.widthlimit);}}}if(h.indexOf("b")>-1){if((n+2*(g.pageY-j-n)-PopupWindowResize.heightpart)>=f){c.css("top",j*2+n-g.pageY);c.css("height",n+2*(g.pageY-j-n));
}else{c.css("top",PopupWindowResize.topLimit);c.css("height",f+PopupWindowResize.heightpart);}}if(h.indexOf("l")>-1){b=d+(k-g.pageX)*2;if(b>i&&b<l){c.css("left",g.pageX);c.css("width",b);}else{if(b<=i){c.css("left",PopupWindowResize.leftLimit);c.css("width",PopupWindowResize.widthlimit);}}}},mouseUp:function(h){var c=a("#popupProxy");
var b=c.width();var n=c.height();var k=a(document.body);a(document).unbind("mousemove",PopupWindowResize.mouseDrag);a(document).unbind("mouseup",PopupWindowResize.mouseUp);c.css("display","none");a("#popupddCover").css("display","none");k.css("cursor","default");var i=PopupWindowResize.boxele;var g=PopupWindowResize.frameele;
var d=false;var f=false;if(n-PopupWindowResize.heightpart>parseInt(g.attr("cpheight"))){g.css("height",n-PopupWindowResize.heightpart);}else{g.css("height",PopupWindowResize.heightlimit);d=true;}var o=k.width();if(k.height()<i.height()){o-=PopupWindowResize.getScrollWidth();}if(b>parseInt(i.attr("cpwidth"))){if(b>o){b=o;
}i.css("width",b);}else{if(b<=parseInt(i.attr("cpwidth"))){i.css("width",PopupWindowResize.widthlimit);f=true;}}if(d&&f){var m=a("div[class=c_popupTitle] div[class=fn]",i);var j=a("a[class=min]",m);var l=a("a[class=max]",m);if(j.css("display")!="none"||l.css("display")!="none"){j.css("display","none");
l.css("display","");}}document.onselectstart=function(){return true;};PopupWindowResize.direction=null;PopupWindowResize.heightpart=null;PopupWindowResize.boxele=null;PopupWindowResize.frameele=null;PopupWindowResize.heightlimit=null;PopupWindowResize.widthlimit=null;PopupWindowResize.bodylimit=null;
PopupWindowResize.cpleft=null;PopupWindowResize.cptop=null;PopupWindowResize.cpwidth=null;PopupWindowResize.cpheight=null;PopupWindowResize.leftLimit=null;PopupWindowResize.topLimit=null;},maxWindow:function(f){var c=a(f.target);var j=a(document.body);var h=c.parent().parent().parent();var b=j.width();
if(j.height()<h.height()){b-=PopupWindowResize.getScrollWidth();}if(!h.attr("cpwidth")){h.attr("cpwidth",h.width());}h.css("width",b);var i=h.parent().parent();var d=a("div[class=c_popupContentWrapper]",i);var m=d.children()[0].tagName;if(m.toUpperCase()=="IFRAME"){d=d.children();}var l=j.height();var g=d.height();
var k=h.height()-d.height();if((g+k)<l){if(!d.attr("cpheight")){d.attr("cpheight",d.height());}d.css("height",l-k);}c.css("display","none");a("a[class=min]",i).css("display","");},minWindow:function(g){var d=a(g.target);var c=d.parent().parent().parent();if(c.attr("cpwidth")){c.css("width",c.attr("cpwidth")+"px");
}var f=c.parent().parent();var h=a("div[class=c_popupContentWrapper]",f);var b=h.children()[0].tagName;if(b.toUpperCase()=="IFRAME"){h=h.children();}if(h.attr("cpheight")){h.css("height",h.attr("cpheight")+"px");}d.css("display","none");a("div[class=c_popupTitle] a[class=max]",f).css("display","");},getScrollWidth:function(){if(!PopupWindowResize.scrollwidth){a.insertHtml("beforeend",document.body,'<div id="scrollwidthtoget" style="width:200px;height:200px;overflow:auto;position:absolute;visibility:hidden;"><div style="width:100px;height:2000px"></div></div>');
var b=a("#scrollwidthtoget");PopupWindowResize.scrollwidth=b[0].offsetWidth-b[0].clientWidth;b.remove();}return PopupWindowResize.scrollwidth;}};window.PopupWindowResize=a.PopupWindowResize;})(Wade);(function(a){a.extend({showExternalMessage:function(k,o,j,e,f){var h=a.getGlobalFrame(e);if(!k){k="error";}var c=h.$("#wade_ext_msg_div");var p="";if(k=="warn"){d=a.lang.get("page.message.warn");p=" c_msg-warn";}else{if(k=="suc"){d=a.lang.get("page.message.succ");p=" c_msg-success";}else{d=a.lang.get("page.message.err");
p=" c_msg-error";}}if(!c.length){if(h.document.body){var d="";var i=[];i.push('<div id="wade_ext_msg_div" class="c_popup">');i.push('<div class="c_popupWrapper">');i.push('<div class="c_popupHeight"></div>');i.push('<div class="c_popupBox">');i.push('<div class="c_popupTitle">');i.push('<div class="text">'+d+"</div>");
i.push('<div class="fn">');i.push('<a class="min" href="javascript:void(0);" style="display:none;"></a>');i.push('<a class="max" href="javascript:void(0);" style="display:none;"></a>');i.push('<a href="#nogo" onclick="javascript:$.closeExternalMessage(\''+e+'\');" class="close"></a>');i.push("</div></div>");
i.push('<div class="c_popupContent"><div class="c_popupContentWrapper">');i.push('<div class="c_msg '+p+'" id="wade_ext_msg_popcss">');i.push('<div id="wade_ext_msg_title" class="title"></div>');i.push('<div id="wade_ext_msg_content" class="content">');i.push("</div>");i.push("</div>");i.push('<div class="c_submit">');
i.push('<a href="#nogo" onclick="javascript:$.closeExternalMessage(\''+e+'\');" class="e_button e_button-page"><i class="e_ico-cancel"></i><span>'+a.lang.get("view.web.jcl.tapestry.page.close")+"</span></a>");i.push("</div>");i.push("</div></div>");i.push('<div class="c_popupBottom"><div></div></div>');
i.push('<div class="c_popupHandle">');i.push('<div class="t"></div>');i.push('<div class="r"></div>');i.push('<div class="b"></div>');i.push('<div class="l"></div>');i.push('<div class="lt"></div>');i.push('<div class="rt"></div>');i.push('<div class="rb"></div>');i.push('<div class="lb"></div>');i.push("</div>");
i.push('<div class="c_popupShadow"></div>');i.push("</div>");i.push("</div>");i.push('<iframe class="c_popupFrame"></iframe>');i.push('<div class="c_popupCover"></div>');i.push("</div>");a.insertHtml("beforeend",h.document.body,i.join(""));i=[];i=null;h.$("#wade_ext_msg_div div[class=c_popupHandle]").bind("mousedown",h.PopupWindowResize.mouseDown);
h.$("#wade_ext_msg_div a[class=max]").bind("click",h.PopupWindowResize.maxWindow);h.$("#wade_ext_msg_div a[class=min]").bind("click",h.PopupWindowResize.minWindow);i=null;}d=null;c=h.$("#wade_ext_msg_div");}else{c.css("z-index",(parseInt(c.css("z-index"),10)+1));}if(c.length){var l=h.$("#wade_ext_msg_div a[class=max]");
var n=h.$("#wade_ext_msg_div a[class=min]");if(f==true){n.css("display","none");l.css("display","");}else{n.css("display","none");l.css("display","none");}var m=h.$("#wade_ext_msg_title");if(m.length){m.html((o?o:""));}var g=h.$("#wade_ext_msg_content");if(g.length){g.html((j?(""+j).replace(/\n/ig,"<br />"):""));
}var b=h.$("#wade_ext_msg_popcss");if(b.length){b[0].className="c_msg "+p;}c.css("display","");}c=null;},showExternalErrorMessage:function(e,d,b,c){a.showExternalMessage("error",e,d,b,c);},showExternalSucMessage:function(e,d,b,c){a.showExternalMessage("suc",e,d,b,c);},showExternalWarnMessage:function(e,d,b,c){a.showExternalMessage("warn",e,d,b,c);
},closeExternalMessage:function(b){var f=a.getGlobalFrame(b);var c=f.$("#wade_ext_msg_div");c.css("display","none");f.$("a[class=min]",c).trigger("click");var e=f.$("div[class=c_popupBox]",c);var d=f.$("div[class=c_popupContentWrapper]",e);e.removeAttr("style");e.removeAttr("cpwidth");d.removeAttr("style");
d.removeAttr("cpheight");if(window["CollectGarbage"]){CollectGarbage();}},showMessage:function(d,f,e,b,c){a.showExternalMessage(d,f,e,b,c);},showErrorMessage:function(e,d,b,c){a.showMessage("error",e,d,b,c);},showSucMessage:function(e,d,b,c){a.showMessage("suc",e,d,b,c);},showWarnMessage:function(e,d,b,c){a.showMessage("warn",e,d,b,c);
},closeMessage:function(b){a.closeExternalMessage(b);}});a.each("showSucMessage,showErrorMessage,showWarnMessage,closeMessage".split(","),function(b,c){window[c]=a[c];});})(Wade);(function(b){if(!b.MessageBox){var a={};b.MessageBox={alert:function(g,f,c,e,d,h){return this.show({"title":g,"msg":f,"alert":true,"fn":c,"buttons":b.extend({ok:true},e),"showMinMax":h,"content":d});},confirm:function(g,f,c,e,d,h){return this.show({"title":g,"msg":f,"confirm":true,"fn":c,"buttons":b.extend({ok:true,cancel:true},e),"showMinMax":h,"content":d});
},success:function(g,f,c,e,d,h){return this.show({"title":g,"msg":f,"success":true,"fn":c,"buttons":b.extend({ok:true},e),"showMinMax":h,"content":d});},error:function(h,g,d,f,e,c,i){return this.show({"title":h,"msg":g,"error":true,"fn":d,"buttons":b.extend({cancel:true},f),"showMinMax":i,"content":e,"detail":c});
},prompt:function(f,e,d,c,g){return this.show({"title":f,"msg":e,"prompt":true,"fn":d,"buttons":{ok:true,cancel:true},"value":c,"showMinMax":g});},progress:function(d,c){return this.show({"msg":d,"progress":true});},show:function(d){var c=new b.MessageBox.Dialog(d);c.show();return c;},events:{onButtonClick:function(h){var c=true,f=h.data[0];
if(f){var d=h.data[1]||b.attr(this,"tag");var g=a[f];var i=g.s.prompt?b("#"+f+"_prompt_ipt").val():undefined;if(g.s.beforeHide&&b.isFunction(g.s.beforeHide)){c=g.s.beforeHide(d,i);}if(false===c){return;}g.hide();if(g.s.fn&&b.isFunction(g.s.fn)){g.s.fn(d,i);}}},toggleDetail:function(d){var c=d.data;if(c){a[c].toggleDetail();
}},showDetail:function(d){var c=b("#"+d.data+"_detai_div");if(c){c.css("display","");}}},buttonText:{ok:b.lang.get("messagebox.buttontext.ok"),cancel:b.lang.get("messagebox.buttontext.cancel"),ext0:b.lang.get("messagebox.buttontext.ext0"),ext1:b.lang.get("messagebox.buttontext.ext1"),ext2:b.lang.get("messagebox.buttontext.ext2")}};
b.MessageBox.Dialog=function(f){var p=this.s=b.extend({showMinMax:false},f);var c=this.id="wade_msgbox_"+(++b.guid);var m=p.title?p.title:"",e=p.msg?p.msg:"",j=p.content?p.content:"";var g=[];g.push('<div id="'+c+'" class="c_popup'+(p.progress?" c_popup-notitle":"")+'" style="display:none;">');g.push('<div class="c_popupWrapper">');
g.push('<div class="c_popupHeight"></div>');g.push('<div class="c_popupBox">');g.push('<div id="'+c+'_title" class="c_popupTitle">');g.push('<div class="text">'+m+"</div>");if(!p.progress){g.push('<div class="fn">');if(p.showMinMax){g.push('<a class="min" href="javascript:void(0);" style="display:none;"></a>');
g.push('<a class="max" href="javascript:void(0);" style="display:none;"></a>');}g.push('<a id="'+c+'_close_btn" class="close" href="#nogo" ></a>');g.push("</div>");}g.push("</div>");g.push('<div class="c_popupContent"><div id="'+c+'_ct" class="c_popupContentWrapper">');if(p.alert||p.confirm||p.error||p.success){var k=p.alert?" c_msg-warn":(p.confirm?" c_msg-confirm":(p.error?" c_msg-error":(p.success?" c_msg-success":"")));
g.push('<div class="c_msg'+k+'">');g.push('<div class="title">'+e+"</div>");g.push('<div class="content">'+j);if(p.error&&p.detail){g.push('<br /><a href="javascript:void(0)" id="'+c+'_detai_a">详情</a>');g.push("</div>");g.push('<div class="detail" style="display:none" id="'+c+'_detai_div">');g.push('<div class="fn"><button id="'+c+'_toggledetail_btn" type="button"><i class="e_ico-select"></i><span>'+b.lang.get("messagebox.errorDetail.detail")+"</span></button></div>");
g.push('<div class="text"><pre id="'+c+'_detail_text">'+p.detail+"</pre></div>");g.push("</div>");}else{g.push("</div>");}g.push("</div>");}else{if(p.prompt){g.push('<div class="c_form c_form-col-1">');g.push('<ul class="ul">');g.push('<li class="li">');g.push('<span class="label">'+e+"</span>");g.push('<span class="e_input"><span><input id="'+c+'_prompt_ipt" type="text" value="'+(p.value?p.value:"")+'"/></span></span>');
g.push("</li>");g.push("</ul>");g.push("</div>");}else{if(p.progress){g.push('<div class="c_article">');g.push("<div>"+e+"</div>");g.push('<span class="e_progress e_progress-big l_mt">');g.push('<span id="'+c+'_progress_bar" class="e_progressBar" style="width:0%;"></span>');g.push('<span id="'+c+'_progress_val" class="e_progressValue"></span>');
g.push("</span>");g.push("</div>");}}}if(!p.progress){g.push('<div id="'+c+'_btns" class="c_submit">');var l=b.extend({},p.buttons);var i,h,o;for(var d in l){h=b.MessageBox.buttonText[d];if(!h){continue;}i=l[d];if(i&&b.isBoolean(i)){i=h;}if(d=="ok"||d=="cancel"){g.push('<a href="#nogo" tag="'+d+'" class="e_button e_button-page-'+d+'"><i></i><span>'+i+"</span></a>");
}else{if(i&&b.isString(i)){o=i.split(",");g.push('<a href="#nogo" tag="'+d+'" class="e_button e_button-page">');if(o.length==2){g.push('<i class="e_ico-'+o[1]+'"></i>');i=o[0];}g.push("<span>"+i+"</span></a>");}}}g.push("</div>");}g.push("</div></div>");g.push('<div class="c_popupBottom"><div></div></div>');
g.push('<div class="c_popupHandle">');g.push('<div class="t"></div>');g.push('<div class="r"></div>');g.push('<div class="b"></div>');g.push('<div class="l"></div>');g.push('<div class="lt"></div>');g.push('<div class="rt"></div>');g.push('<div class="rb"></div>');g.push('<div class="lb"></div>');g.push("</div>");
g.push('<div class="c_popupShadow"></div>');g.push("</div>");g.push("</div>");g.push('<iframe class="c_popupFrame"></iframe>');g.push('<div class="c_popupCover"></div>');g.push("</div>");b(document.body).append(g.join(""));g=[];g=null;if(p.error&&p.detail){b("#"+c+"_detai_a").bind("click",c,b.MessageBox.events.showDetail);
b("#"+c+"_toggledetail_btn").bind("click",c,b.MessageBox.events.toggleDetail);}if(!p.progress){b("#"+c+"_close_btn").bind("click",[c,"cancel"],b.MessageBox.events.onButtonClick);b("#"+c+"_btns a[tag]").bind("click",[c],b.MessageBox.events.onButtonClick);}a[c]=this;};b.MessageBox.Dialog.prototype={show:function(){b("#"+this.id).css("display","");
},hide:function(){b("#"+this.id).css("display","none");},updateProgress:function(c,d){b("#"+this.id+"_progress_bar").css("width",(c*100)+"%");b("#"+this.id+"_progress_val").text(d);},toggleDetail:function(){var e=document.getElementById(this.id+"_detail_text");if(!e||!e.nodeType){return;}if(document.selection){var d=document.body.createTextRange();
d.moveToElementText(e);d.moveEnd("character");d.select();}else{var c=window.getSelection();var d=document.createRange();d.selectNode(e);c.addRange(d);}}};window.MessageBox=b.MessageBox;}})(Wade);